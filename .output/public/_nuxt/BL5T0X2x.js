var De=Object.defineProperty;var Fe=(b,i,u)=>i in b?De(b,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):b[i]=u;var _e=(b,i,u)=>Fe(b,typeof i!="symbol"?i+"":i,u);import{x as ze,e as V,l as oe,d as be,o as he,c as T,a as t,h as P,i as F,r as v,w as e,q as l,j as n,p as Ce,g as s,t as r,F as ue,m as ce,b as c,_ as ke,s as te,k as Te,n as Ve,G as $e}from"./D7S2uxwB.js";import{_ as G}from"./DRx46OMG.js";import{_ as ye}from"./Cglo5TDa.js";import{R as Se}from"./DnJUI9dP.js";import{u as Ae}from"./DP2tXBcM.js";class Le{constructor(){_e(this,"apiClient");this.apiClient=new ze}async getRankings(i){try{const u=new URLSearchParams;i!=null&&i.provider_id&&u.append("provider_id",i.provider_id.toString()),i!=null&&i.technology&&u.append("technology",i.technology),i!=null&&i.period&&u.append("period",i.period),i!=null&&i.date_from&&u.append("date_from",i.date_from),i!=null&&i.date_to&&u.append("date_to",i.date_to),i!=null&&i.sort_by&&u.append("sort_by",i.sort_by),i!=null&&i.page&&u.append("page",i.page.toString()),i!=null&&i.per_page&&u.append("per_page",i.per_page.toString()),i!=null&&i.limit&&!(i!=null&&i.page)&&!(i!=null&&i.per_page)&&u.append("limit",i.limit.toString());const d=`/reports/global/provider-ranking${u.toString()?`?${u.toString()}`:""}`;console.log("ðŸ” ProviderRankingRepository - URL:",d);const $=await this.apiClient.get(d);return console.log("ðŸ” ProviderRankingRepository - Response:",$),$}catch(u){throw console.error("ProviderRankingRepository - getRankings error:",u),u}}}class Me{constructor(){_e(this,"providerRankingRepository");this.providerRankingRepository=new Le}async getProviderRankings(i){var u;try{console.log("ðŸ” ProviderRankingService - getProviderRankings filters:",i);const d=await this.providerRankingRepository.getRankings(i);return console.log("ðŸ” ProviderRankingService - response:",d),d.success&&d.data?Array.isArray(d.data)?{success:!0,data:{rankings:d.data,totalEntries:((u=d.pagination)==null?void 0:u.total)||d.data.length,filters:d.filters||{},pagination:d.pagination,availableProviders:d.available_providers||[],aggregatedStats:d.aggregated_stats||void 0,globalStats:d.global_stats||void 0}}:{success:!0,data:{rankings:d.data.ranking||[],totalEntries:d.data.total_entries||0,filters:d.data.filters||{},availableProviders:d.available_providers||[],aggregatedStats:d.aggregated_stats||void 0,globalStats:d.global_stats||void 0}}:{success:!1,error:"Failed to fetch provider rankings"}}catch(d){return console.error("ProviderRankingService - getProviderRankings error:",d),{success:!1,error:d instanceof Error?d.message:"Failed to fetch provider rankings"}}}async getTopProviderDomain(i){try{const u=await this.providerRankingRepository.getRankings({provider_id:i,limit:1});if(u.success&&u.data){const d=Array.isArray(u.data)?u.data:u.data.ranking||[];if(d.length>0)return{success:!0,data:d[0]}}return{success:!0,data:null}}catch(u){return console.error("ProviderRankingService - getTopProviderDomain error:",u),{success:!1,error:u instanceof Error?u.message:"Failed to fetch top provider domain"}}}}const we=()=>{const b=V([]),i=V(0),u=V(null),d=V([]),$=V(null),k=V(null),_=V({technology:null,provider_id:null,period:"all_time",sort_by:"total_requests",page:1,per_page:15}),A=V(!1),w=V(null),q=new Me,f=V("total_requests"),R=oe(()=>{let g=b.value.map(h=>{var C,X;return{...h,requestsFormatted:h.total_requests.toLocaleString(),domainTotalFormatted:((C=h.domain_total_requests)==null?void 0:C.toLocaleString())||"-",percentageFormatted:((X=h.percentage_of_domain)==null?void 0:X.toFixed(1))||"0.0",percentageColor:E(h.percentage_of_domain),successRateFormatted:h.avg_success_rate.toFixed(1),avgSpeedFormatted:h.avg_speed.toFixed(0),successRateColor:h.avg_success_rate>=90?"success":h.avg_success_rate>=70?"warning":"error",techColor:M(h.technology),hasMedal:h.rank<=3,medalEmoji:h.rank===1?"ðŸ¥‡":h.rank===2?"ðŸ¥ˆ":h.rank===3?"ðŸ¥‰":""}});return f.value==="domain_total"?g=g.sort((h,C)=>(C.domain_total_requests||0)-(h.domain_total_requests||0)):f.value==="percentage"?g=g.sort((h,C)=>(C.percentage_of_domain||0)-(h.percentage_of_domain||0)):f.value==="avg_speed"&&(g=g.sort((h,C)=>h.avg_speed-C.avg_speed)),g}),M=g=>g&&{Fiber:"blue",Cable:"green",DSL:"orange",Mobile:"purple",Satellite:"red"}[g]||"grey",E=g=>g?g>=50?"error":g>=25?"warning":g>=10?"info":"success":"grey",O=async g=>{A.value=!0,w.value=null;try{const h=g||_.value,C=await q.getProviderRankings(h);C.success&&C.data?(b.value=C.data.rankings,i.value=C.data.totalEntries,u.value=C.data.pagination||null,d.value=C.data.availableProviders||[],$.value=C.data.aggregatedStats||null,k.value=C.data.globalStats||null):(w.value=C.error||"Failed to load provider rankings",b.value=[],u.value=null,d.value=[],$.value=null,k.value=null)}catch(h){w.value=h instanceof Error?h.message:"Unexpected error",b.value=[]}finally{A.value=!1}};return{rankings:b,formattedRankings:R,totalEntries:i,pagination:u,availableProviders:d,aggregatedStats:$,globalStats:k,filters:_,loading:A,error:w,localSortBy:f,loadProviderRankings:O,getTopProviderDomain:async g=>await q.getTopProviderDomain(g),updateFilters:g=>{_.value={..._.value,...g}},clearFilters:()=>{_.value={technology:null,provider_id:null,period:"all_time",sort_by:"total_requests",page:1,per_page:15}},goToPage:async g=>{_.value.page=g,await O()},changePerPage:async g=>{_.value.per_page=g,_.value.page=1,await O()},changeLocalSort:g=>{f.value=g}}},je={class:"provider-rankings"},Ue={class:"d-flex flex-wrap ga-4"},Ne={class:"text-h4 font-weight-bold"},Oe={class:"text-h4 font-weight-bold"},Ee={class:"text-h4 font-weight-bold"},Be={class:"text-h4 font-weight-bold"},Ge={class:"font-weight-bold"},We={key:0,class:"mr-2"},Ie={class:"font-weight-medium"},Ke={class:"text-caption text-medium-emphasis"},Ye={key:1,class:"text-medium-emphasis"},Xe={class:"text-right font-weight-medium"},He={class:"text-right text-medium-emphasis"},Je={class:"text-center"},Qe={class:"text-right"},Ze={class:"d-flex align-center"},et={class:"text-caption text-medium-emphasis"},tt={class:"d-flex align-center ga-2"},at=be({__name:"ProviderRankingTable",setup(b){const{formattedRankings:i,totalEntries:u,pagination:d,availableProviders:$,aggregatedStats:k,globalStats:_,filters:A,loading:w,error:q,localSortBy:f,loadProviderRankings:R,updateFilters:M,clearFilters:E,goToPage:O,changePerPage:W,changeLocalSort:j}=we(),z=V({...A.value}),I=oe(()=>!$.value||$.value.length===0?[]:$.value.map(L=>({title:`${L.name} (${L.total_requests.toLocaleString()} requests)`,value:L.id}))),K=[{title:"ðŸ“… Today",value:"today"},{title:"ðŸ“… Yesterday",value:"yesterday"},{title:"ðŸ“… Last Week",value:"last_week"},{title:"ðŸ“… Last Month",value:"last_month"},{title:"ðŸ“… Last Year",value:"last_year"},{title:"ðŸ“… All Time",value:"all_time"}],Q=[{title:"ðŸ”µ Fiber",value:"Fiber"},{title:"ðŸŸ¢ Cable",value:"Cable"},{title:"ðŸŸ¡ DSL",value:"DSL"},{title:"ðŸŸ£ Mobile",value:"Mobile"},{title:"ðŸ”´ Satellite",value:"Satellite"}],g=[{title:"ðŸ“Š Provider Requests",value:"total_requests"},{title:"ðŸ“Š Domain Total",value:"domain_total"},{title:"ðŸ“ˆ % of Domain",value:"percentage"},{title:"âš¡ Avg Speed",value:"avg_speed"}],h=[{title:"15 per page",value:15},{title:"25 per page",value:25},{title:"50 per page",value:50},{title:"100 per page",value:100}],C=()=>{if(!z.value.provider_id)return"";const L=$.value.find(m=>m.id===z.value.provider_id);return L?L.name:""},X=()=>{z.value.page=1,M(z.value),R()},Z=L=>{j(L)},me=()=>{E(),z.value={...A.value},j("total_requests"),R()},pe=()=>{d.value&&d.value.current_page>1&&O(d.value.current_page-1)},le=()=>{d.value&&d.value.current_page<d.value.last_page&&O(d.value.current_page+1)},ve=L=>{z.value.per_page=L,W(L)};return he(()=>{R()}),(L,m)=>{const S=v("v-icon"),a=v("v-select"),p=v("v-col"),D=v("v-btn"),x=v("v-row"),ne=v("v-alert-title"),ee=v("v-chip"),ae=v("v-alert"),H=v("v-card-text"),J=v("v-card"),U=v("v-progress-circular"),N=v("v-card-title"),se=v("v-table"),Y=v("v-card-actions");return c(),T("div",je,[t(x,{class:"mb-4"},{default:e(()=>[t(p,{cols:"12",md:"3"},{default:e(()=>[t(a,{modelValue:z.value.provider_id,"onUpdate:modelValue":[m[0]||(m[0]=y=>z.value.provider_id=y),X],items:l(I),label:"Provider",clearable:"",variant:"outlined",density:"compact"},{"prepend-inner":e(()=>[t(S,{size:"small"},{default:e(()=>m[4]||(m[4]=[n("mdi-account-network")])),_:1})]),_:1},8,["modelValue","items"])]),_:1}),t(p,{cols:"12",md:"2"},{default:e(()=>[t(a,{modelValue:z.value.technology,"onUpdate:modelValue":[m[1]||(m[1]=y=>z.value.technology=y),X],items:Q,label:"Technology",clearable:"",variant:"outlined",density:"compact"},{"prepend-inner":e(()=>[t(S,{size:"small"},{default:e(()=>m[5]||(m[5]=[n("mdi-network")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(p,{cols:"12",md:"2"},{default:e(()=>[t(a,{modelValue:z.value.period,"onUpdate:modelValue":[m[2]||(m[2]=y=>z.value.period=y),X],items:K,label:"Period",clearable:"",variant:"outlined",density:"compact"},{"prepend-inner":e(()=>[t(S,{size:"small"},{default:e(()=>m[6]||(m[6]=[n("mdi-calendar-range")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(p,{cols:"12",md:"2"},{default:e(()=>[t(a,{modelValue:l(f),"onUpdate:modelValue":[m[3]||(m[3]=y=>Ce(f)?f.value=y:null),Z],items:g,label:"Sort By",variant:"outlined",density:"compact"},{"prepend-inner":e(()=>[t(S,{size:"small"},{default:e(()=>m[7]||(m[7]=[n("mdi-sort")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(p,{cols:"12",md:"3"},{default:e(()=>[t(D,{block:"",variant:"outlined",color:"grey",onClick:me},{default:e(()=>[t(S,{start:""},{default:e(()=>m[8]||(m[8]=[n("mdi-filter-off")])),_:1}),m[9]||(m[9]=n(" Clear Filters "))]),_:1})]),_:1})]),_:1}),l(_)?(c(),P(x,{key:0,class:"mb-4"},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(ae,{color:"primary",variant:"tonal",border:"start",prominent:""},{default:e(()=>[t(ne,{class:"text-h6 mb-2"},{default:e(()=>[t(S,{start:"",size:"small"},{default:e(()=>m[10]||(m[10]=[n("mdi-chart-line")])),_:1}),n(" "+r(C())+" Global Statistics ",1)]),_:1}),s("div",Ue,[s("div",null,[m[11]||(m[11]=s("strong",null,"Provider Requests:",-1)),n(" "+r(l(_).provider_total_requests.toLocaleString()),1)]),s("div",null,[m[12]||(m[12]=s("strong",null,"Global Requests:",-1)),n(" "+r(l(_).global_total_requests.toLocaleString()),1)]),s("div",null,[m[13]||(m[13]=s("strong",null,"Percentage of Global:",-1)),t(ee,{color:"primary",variant:"tonal",size:"small",class:"ml-1"},{default:e(()=>[n(r(l(_).percentage_of_global.toFixed(2))+"% ",1)]),_:1})])])]),_:1})]),_:1})]),_:1})):F("",!0),l(k)?(c(),P(x,{key:1,class:"mb-4"},{default:e(()=>[t(p,{cols:"12",md:"3"},{default:e(()=>[t(J,{variant:"tonal",color:"primary"},{default:e(()=>[t(H,{class:"text-center"},{default:e(()=>[s("div",Ne,r(l(k).total_requests.toLocaleString()),1),m[14]||(m[14]=s("div",{class:"text-caption text-medium-emphasis"},"Total Requests",-1))]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",md:"3"},{default:e(()=>[t(J,{variant:"tonal",color:"primary"},{default:e(()=>[t(H,{class:"text-center"},{default:e(()=>[s("div",Oe,r(l(k).avg_speed.toFixed(0))+" ms ",1),m[15]||(m[15]=s("div",{class:"text-caption text-medium-emphasis"},"Avg Speed",-1))]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",md:"3"},{default:e(()=>[t(J,{variant:"tonal",color:"primary"},{default:e(()=>[t(H,{class:"text-center"},{default:e(()=>[s("div",Ee,r(l(k).unique_domains),1),m[16]||(m[16]=s("div",{class:"text-caption text-medium-emphasis"},"Unique Domains",-1))]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",md:"3"},{default:e(()=>[t(J,{variant:"tonal",color:"primary"},{default:e(()=>[t(H,{class:"text-center"},{default:e(()=>[s("div",Be,r(l(k).unique_providers),1),m[17]||(m[17]=s("div",{class:"text-caption text-medium-emphasis"},"Unique Providers",-1))]),_:1})]),_:1})]),_:1})]),_:1})):F("",!0),l(w)?(c(),P(ae,{key:2,type:"info",variant:"tonal"},{default:e(()=>[t(U,{indeterminate:"",size:"20",class:"mr-2"}),m[18]||(m[18]=n(" Loading rankings... "))]),_:1})):l(q)?(c(),P(ae,{key:3,type:"error",variant:"tonal"},{default:e(()=>[n(r(l(q)),1)]),_:1})):(c(),P(J,{key:4},{default:e(()=>[t(N,{class:"d-flex align-center justify-space-between"},{default:e(()=>[m[19]||(m[19]=s("span",null,"ðŸ† Provider Rankings",-1)),t(ee,{color:"primary",variant:"tonal"},{default:e(()=>[n(r(l(u))+" entries ",1)]),_:1})]),_:1}),t(se,{"fixed-header":"",height:"600px"},{default:e(()=>[m[20]||(m[20]=s("thead",null,[s("tr",null,[s("th",{class:"text-left"},"Rank"),s("th",{class:"text-left"},"Domain"),s("th",{class:"text-left"},"Provider"),s("th",{class:"text-left"},"Technology"),s("th",{class:"text-right"},"Provider Requests"),s("th",{class:"text-right"},"Domain Total"),s("th",{class:"text-center"},"% of Domain"),s("th",{class:"text-right"},"Avg Speed")])],-1)),s("tbody",null,[(c(!0),T(ue,null,ce(l(i),y=>(c(),T("tr",{key:`${y.domain_id}-${y.provider_id}`},[s("td",Ge,[y.hasMedal?(c(),T("span",We,r(y.medalEmoji),1)):F("",!0),n(" #"+r(y.rank),1)]),s("td",null,[s("div",Ie,r(y.domain_name),1),s("div",Ke,r(y.domain_slug),1)]),s("td",null,r(y.provider_name),1),s("td",null,[y.technology?(c(),P(ee,{key:0,color:y.techColor,variant:"tonal",size:"small"},{default:e(()=>[n(r(y.technology),1)]),_:2},1032,["color"])):(c(),T("span",Ye,"Unknown"))]),s("td",Xe,r(y.requestsFormatted),1),s("td",He,r(y.domainTotalFormatted),1),s("td",Je,[t(ee,{color:y.percentageColor,variant:"tonal",size:"small"},{default:e(()=>[n(r(y.percentageFormatted)+"% ",1)]),_:2},1032,["color"])]),s("td",Qe,r(y.avgSpeedFormatted)+" ms",1)]))),128))])]),_:1}),l(d)?(c(),P(Y,{key:0,class:"justify-space-between pa-4"},{default:e(()=>[s("div",Ze,[s("span",et," Showing "+r(l(d).from)+" to "+r(l(d).to)+" of "+r(l(d).total)+" entries ",1)]),s("div",tt,[t(a,{"model-value":z.value.per_page,items:h,"onUpdate:modelValue":ve,density:"compact",variant:"outlined","hide-details":"",style:{width:"100px"}},null,8,["model-value"]),t(D,{icon:"mdi-chevron-left",size:"small",variant:"text",disabled:l(d).current_page===1,onClick:pe},null,8,["disabled"]),t(ee,{variant:"tonal",color:"primary"},{default:e(()=>[n(r(l(d).current_page)+" / "+r(l(d).last_page),1)]),_:1}),t(D,{icon:"mdi-chevron-right",size:"small",variant:"text",disabled:l(d).current_page===l(d).last_page,onClick:le},null,8,["disabled"])])]),_:1})):F("",!0)]),_:1}))])}}}),st=ke(at,[["__scopeId","data-v-c36057a6"]]),ot=()=>{const b=V(null),i=V(!1),u=V(null),d=V("score"),$=new Se,k=async(f="score")=>{i.value=!0,u.value=null,d.value=f;try{const R=await $.getGlobalDomainRanking(f);R.success&&R.data?b.value=R.data:(u.value=R.error||"Failed to load ranking",b.value=null)}catch{u.value="Unexpected error loading ranking",b.value=null}finally{i.value=!1}},_=oe(()=>{var f;return!((f=b.value)!=null&&f.ranking)||!Array.isArray(b.value.ranking)?[]:b.value.ranking.map(R=>({...R,formattedPeriod:`${new Date(R.coverage.period_start).toLocaleDateString()} - ${new Date(R.coverage.period_end).toLocaleDateString()}`,formattedRequests:A(R.metrics.total_requests),formattedSuccessRate:R.metrics.success_rate.toFixed(1)+"%",formattedSpeed:R.metrics.avg_speed>0?R.metrics.avg_speed.toFixed(1)+" Mbps":"N/A",formattedScore:R.metrics.score.toFixed(1)}))}),A=f=>f>=1e6?(f/1e6).toFixed(1)+"M":f>=1e3?(f/1e3).toFixed(1)+"K":f.toString(),w=oe(()=>_.value.slice(0,3)),q=oe(()=>{var W;if(!((W=b.value)!=null&&W.ranking)||b.value.ranking.length===0)return{totalDomains:0,totalRequests:0,avgSuccessRate:0,avgSpeed:0};const f=b.value.ranking,R=f.reduce((j,z)=>j+z.metrics.total_requests,0),M=f.reduce((j,z)=>j+z.metrics.success_rate,0)/f.length,E=f.filter(j=>j.metrics.avg_speed>0),O=E.length>0?E.reduce((j,z)=>j+z.metrics.avg_speed,0)/E.length:0;return{totalDomains:f.length,totalRequests:R,avgSuccessRate:M,avgSpeed:O}});return{rankingData:te(b),loading:te(i),error:te(u),currentSortBy:te(d),formattedRanking:_,topThree:w,globalStats:q,loadRanking:k}},lt=()=>{const b=V(null),i=V(!1),u=V(null),d=new Se,$=async(w,q,f,R)=>{if(w.length<2){u.value="Please select at least 2 domains to compare";return}i.value=!0,u.value=null;try{const M=await d.compareDomains(w,q,f,R);M.success&&M.data?b.value=M.data:(u.value=M.error||"Failed to load comparison",b.value=null)}catch{u.value="Unexpected error loading comparison",b.value=null}finally{i.value=!1}},k=w=>w>=1e6?(w/1e6).toFixed(1)+"M":w>=1e3?(w/1e3).toFixed(1)+"K":w.toString(),_=(w,q=!1)=>q?w>0?"error":w<0?"success":"default":w>0?"success":w<0?"error":"default",A=w=>w>0?"mdi-arrow-up":w<0?"mdi-arrow-down":"mdi-minus";return{comparisonData:te(b),loading:te(i),error:te(u),loadComparison:$,formatNumber:k,getDiffColor:_,getDiffIcon:A}},nt={class:"d-flex justify-center align-center py-8"},rt={key:2},it={key:0},dt={class:"d-flex align-center justify-space-between mb-2"},ut={class:"text-h3 font-weight-bold text-primary"},ct={class:"d-flex align-center justify-space-between mb-2"},mt={class:"text-h3 font-weight-bold text-success"},pt={class:"d-flex align-center justify-space-between mb-2"},vt={class:"text-h3 font-weight-bold text-info"},_t={class:"d-flex align-center justify-space-between mb-2"},gt={class:"text-h3 font-weight-bold text-warning"},ft={key:1,class:"text-center py-8"},xt={key:1,class:"text-center py-8"},yt={key:1,class:"text-center py-8"},bt={key:1,class:"text-center py-8"},ht={class:"text-h6 mt-2"},kt={class:"d-flex justify-space-between mb-2"},St={class:"font-weight-bold"},wt={class:"d-flex justify-space-between mb-2"},Rt={class:"font-weight-bold"},Pt={class:"d-flex justify-space-between"},qt={class:"font-weight-bold"},Dt={class:"text-h5 mt-2"},Ft={class:"d-flex justify-space-between mb-2"},zt={class:"font-weight-bold text-h6"},Ct={class:"d-flex justify-space-between mb-2"},Tt={class:"font-weight-bold"},Vt={class:"d-flex justify-space-between"},$t={class:"font-weight-bold"},At={class:"text-h6 mt-2"},Lt={class:"d-flex justify-space-between mb-2"},Mt={class:"font-weight-bold"},jt={class:"d-flex justify-space-between mb-2"},Ut={class:"font-weight-bold"},Nt={class:"d-flex justify-space-between"},Ot={class:"font-weight-bold"},Et={class:"text-center"},Bt={class:"font-weight-medium"},Gt={class:"text-caption text-medium-emphasis"},Wt={class:"text-right"},It={class:"text-right font-weight-medium"},Kt={class:"text-right"},Yt={class:"text-right"},Xt={class:"text-center"},Ht={class:"text-center"},Jt={class:"text-center"},Qt={class:"text-center"},Zt={class:"text-caption"},ea={class:"text-caption text-medium-emphasis"},ta={class:"text-center"},aa={key:0,class:"text-center py-8"},sa={key:3},oa={key:4},la={class:"d-flex gap-2"},na={class:"d-flex justify-center align-center py-8"},ra={key:2},ia={class:"d-flex align-center gap-2"},da={class:"font-weight-bold"},ua={class:"d-flex align-center gap-2"},ca={class:"font-weight-bold"},ma={class:"d-flex align-center gap-2"},pa={class:"font-weight-bold"},va={class:"font-weight-bold"},_a={class:"font-weight-bold"},ga={class:"text-h4 font-weight-bold"},fa={class:"text-h4 font-weight-bold"},xa={key:0},ya={class:"text-h6 mb-3"},ba={class:"font-weight-bold"},ha={class:"font-weight-medium"},ka={class:"text-right font-weight-medium"},Sa={class:"text-right"},wa={class:"text-center"},Ra={class:"text-center py-12"},Pa=be({__name:"index",setup(b){const{rankingData:i,loading:u,error:d,currentSortBy:$,formattedRanking:k,topThree:_,globalStats:A,loadRanking:w}=ot(),{comparisonData:q,loading:f,error:R,loadComparison:M,getDiffColor:E,getDiffIcon:O}=lt(),{domains:W,loadDomains:j}=Ae(),{loadProviderRankings:z}=we(),I=V("ranking"),K=V([]),Q=V(""),g=V(""),h=[{value:"score",label:"Overall Score"},{value:"volume",label:"Total Requests"},{value:"success",label:"Success Rate"},{value:"speed",label:"Average Speed"}],C=oe(()=>!W.value||!Array.isArray(W.value)?[]:W.value.map(S=>({value:S.id,title:S.name})));he(()=>{w("score"),j(),z()});const X=S=>{w(S)},Z=S=>{Ve(`/domains/${S}/dashboard`)},me=()=>{K.value.length<2||(M(K.value,void 0,Q.value||void 0,g.value||void 0),I.value="comparison")},pe=()=>{K.value=[],Q.value="",g.value=""},le=S=>S>=1e6?(S/1e6).toFixed(1)+"M":S>=1e3?(S/1e3).toFixed(1)+"K":S.toString(),ve=S=>S===1?"warning":S===2?"grey":S===3?"orange":"default",L=S=>S<=3?"mdi-medal":"mdi-numeric-"+S+"-circle",m=S=>S&&{Fiber:"blue",Cable:"green",DSL:"orange",Mobile:"purple",Satellite:"red"}[S]||"grey";return(S,a)=>{const p=v("v-col"),D=v("v-row"),x=v("v-icon"),ne=v("v-tab"),ee=v("v-tabs"),ae=v("v-progress-circular"),H=v("v-alert"),J=v("v-select"),U=v("v-card-text"),N=v("v-card"),se=v("apexchart"),Y=v("v-divider"),y=v("v-btn"),B=v("v-chip"),ge=v("v-table"),fe=v("v-text-field"),Re=v("v-form"),xe=v("v-card-title"),re=v("v-list-item-title"),ie=v("v-list-item"),Pe=v("v-list"),qe=v("v-card-actions");return c(),T("div",null,[t(D,{class:"mb-4"},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>a[7]||(a[7]=[s("h1",{class:"text-h4 font-weight-bold"},"Global Dashboard",-1),s("p",{class:"text-body-1 text-medium-emphasis"}," Comprehensive platform analytics and domain comparison ",-1)])),_:1})]),_:1}),t(D,{class:"mb-4"},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(ee,{modelValue:I.value,"onUpdate:modelValue":a[0]||(a[0]=o=>I.value=o),color:"primary"},{default:e(()=>[t(ne,{value:"ranking"},{default:e(()=>[t(x,{class:"mr-2"},{default:e(()=>a[8]||(a[8]=[n("mdi-trophy")])),_:1}),a[9]||(a[9]=n(" Domain Ranking "))]),_:1}),t(ne,{value:"provider-ranking"},{default:e(()=>[t(x,{class:"mr-2"},{default:e(()=>a[10]||(a[10]=[n("mdi-account-network")])),_:1}),a[11]||(a[11]=n(" Provider Rankings "))]),_:1}),t(ne,{value:"comparison"},{default:e(()=>[t(x,{class:"mr-2"},{default:e(()=>a[12]||(a[12]=[n("mdi-compare")])),_:1}),a[13]||(a[13]=n(" Compare Domains "))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(u)?(c(),P(D,{key:0},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(G,null,{default:e(()=>[s("div",nt,[t(ae,{indeterminate:"",color:"primary",size:"64"})])]),_:1})]),_:1})]),_:1})):l(d)?(c(),P(D,{key:1},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(G,null,{default:e(()=>[t(H,{type:"error",variant:"tonal",class:"mb-0"},{default:e(()=>[n(r(l(d)),1)]),_:1})]),_:1})]),_:1})]),_:1})):F("",!0),I.value==="ranking"?(c(),T("div",rt,[t(D,{class:"mb-4"},{default:e(()=>[t(p,{cols:"12",class:"d-flex justify-end"},{default:e(()=>[t(J,{"model-value":l($),"onUpdate:modelValue":X,items:h,"item-title":"label","item-value":"value",label:"Sort By",variant:"outlined",density:"compact","hide-details":"",style:{width:"200px"},"prepend-inner-icon":"mdi-sort"},null,8,["model-value"])]),_:1})]),_:1}),l(i)?(c(),T("div",it,[t(D,{class:"mb-4"},{default:e(()=>[t(p,{cols:"12",sm:"6",md:"3"},{default:e(()=>[t(N,{elevation:"2",class:"h-100"},{default:e(()=>[t(U,null,{default:e(()=>[s("div",dt,[a[15]||(a[15]=s("div",{class:"text-h6 text-medium-emphasis"},"Total Domains",-1)),t(x,{color:"primary",size:"32"},{default:e(()=>a[14]||(a[14]=[n("mdi-domain")])),_:1})]),s("div",ut,r(l(A).totalDomains),1),a[16]||(a[16]=s("div",{class:"text-caption text-medium-emphasis mt-1"}," Active domains ",-1))]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",sm:"6",md:"3"},{default:e(()=>[t(N,{elevation:"2",class:"h-100"},{default:e(()=>[t(U,null,{default:e(()=>[s("div",ct,[a[18]||(a[18]=s("div",{class:"text-h6 text-medium-emphasis"},"Total Requests",-1)),t(x,{color:"success",size:"32"},{default:e(()=>a[17]||(a[17]=[n("mdi-chart-line")])),_:1})]),s("div",mt,r(le(l(A).totalRequests)),1),a[19]||(a[19]=s("div",{class:"text-caption text-medium-emphasis mt-1"}," Across all domains ",-1))]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",sm:"6",md:"3"},{default:e(()=>[t(N,{elevation:"2",class:"h-100"},{default:e(()=>[t(U,null,{default:e(()=>[s("div",pt,[a[21]||(a[21]=s("div",{class:"text-h6 text-medium-emphasis"},"Avg Success Rate",-1)),t(x,{color:"info",size:"32"},{default:e(()=>a[20]||(a[20]=[n("mdi-check-circle")])),_:1})]),s("div",vt,r(l(A).avgSuccessRate.toFixed(1))+"% ",1),a[22]||(a[22]=s("div",{class:"text-caption text-medium-emphasis mt-1"}," Average across domains ",-1))]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",sm:"6",md:"3"},{default:e(()=>[t(N,{elevation:"2",class:"h-100"},{default:e(()=>[t(U,null,{default:e(()=>[s("div",_t,[a[24]||(a[24]=s("div",{class:"text-h6 text-medium-emphasis"},"Avg Speed",-1)),t(x,{color:"warning",size:"32"},{default:e(()=>a[23]||(a[23]=[n("mdi-speedometer")])),_:1})]),s("div",gt,r(l(A).avgSpeed>0?l(A).avgSpeed.toFixed(1):"N/A"),1),a[25]||(a[25]=s("div",{class:"text-caption text-medium-emphasis mt-1"}," Mbps average ",-1))]),_:1})]),_:1})]),_:1})]),_:1}),t(D,{class:"mb-4"},{default:e(()=>[t(p,{cols:"12",md:"6"},{default:e(()=>[t(G,null,{default:e(()=>[l(k).length>0?(c(),P(se,{key:0,type:"bar",height:"300",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Top Domains by Volume",align:"left",style:{fontSize:"16px",fontWeight:600}},plotOptions:{bar:{horizontal:!0,borderRadius:4,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(o){return le(o)},offsetX:30},xaxis:{categories:l(k).slice(0,5).map(o=>o.domain.name)},colors:["#1976d2"]},series:[{name:"Requests",data:l(k).slice(0,5).map(o=>o.metrics.total_requests)}]},null,8,["options","series"])):(c(),T("div",ft,[t(x,{size:"64",color:"grey"},{default:e(()=>a[26]||(a[26]=[n("mdi-chart-bar")])),_:1}),a[27]||(a[27]=s("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No data available",-1))]))]),_:1})]),_:1}),t(p,{cols:"12",md:"6"},{default:e(()=>[t(G,null,{default:e(()=>[l(k).length>0?(c(),P(se,{key:0,type:"donut",height:"300",options:{chart:{type:"donut",fontFamily:"inherit"},title:{text:"Success Rate Distribution",align:"left",style:{fontSize:"16px",fontWeight:600}},labels:["Excellent (â‰¥95%)","Good (90-95%)","Fair (80-90%)","Poor (<80%)"],colors:["#4caf50","#8bc34a","#ffc107","#f44336"],legend:{position:"bottom"},dataLabels:{enabled:!0,formatter:function(o){return o.toFixed(0)+"%"}}},series:[l(k).filter(o=>o.metrics.success_rate>=95).length,l(k).filter(o=>o.metrics.success_rate>=90&&o.metrics.success_rate<95).length,l(k).filter(o=>o.metrics.success_rate>=80&&o.metrics.success_rate<90).length,l(k).filter(o=>o.metrics.success_rate<80).length]},null,8,["options","series"])):(c(),T("div",xt,[t(x,{size:"64",color:"grey"},{default:e(()=>a[28]||(a[28]=[n("mdi-chart-donut")])),_:1}),a[29]||(a[29]=s("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No data available",-1))]))]),_:1})]),_:1})]),_:1}),t(D,{class:"mb-4"},{default:e(()=>[t(p,{cols:"12",md:"6"},{default:e(()=>[t(G,null,{default:e(()=>[l(k).length>0?(c(),P(se,{key:0,type:"bar",height:"300",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Reports per Domain",align:"left",style:{fontSize:"16px",fontWeight:600}},plotOptions:{bar:{borderRadius:4,columnWidth:"60%"}},dataLabels:{enabled:!1},xaxis:{categories:l(k).map(o=>o.domain.name),labels:{rotate:-45,style:{fontSize:"11px"}}},yaxis:{title:{text:"Number of Reports"}},colors:["#ff9800"]},series:[{name:"Reports",data:l(k).map(o=>o.coverage.total_reports)}]},null,8,["options","series"])):(c(),T("div",yt,[t(x,{size:"64",color:"grey"},{default:e(()=>a[30]||(a[30]=[n("mdi-chart-bar")])),_:1}),a[31]||(a[31]=s("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No data available",-1))]))]),_:1})]),_:1}),t(p,{cols:"12",md:"6"},{default:e(()=>[t(G,null,{default:e(()=>[l(k).filter(o=>o.metrics.avg_speed>0).length>0?(c(),P(se,{key:0,type:"bar",height:"300",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Average Speed by Domain",align:"left",style:{fontSize:"16px",fontWeight:600}},plotOptions:{bar:{borderRadius:4,columnWidth:"60%"}},dataLabels:{enabled:!0,formatter:function(o){return o.toFixed(0)+" Mbps"}},xaxis:{categories:l(k).filter(o=>o.metrics.avg_speed>0).map(o=>o.domain.name),labels:{rotate:-45,style:{fontSize:"11px"}}},yaxis:{title:{text:"Speed (Mbps)"}},colors:["#9c27b0"]},series:[{name:"Avg Speed",data:l(k).filter(o=>o.metrics.avg_speed>0).map(o=>o.metrics.avg_speed)}]},null,8,["options","series"])):(c(),T("div",bt,[t(x,{size:"64",color:"grey"},{default:e(()=>a[32]||(a[32]=[n("mdi-speedometer")])),_:1}),a[33]||(a[33]=s("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No speed data available",-1))]))]),_:1})]),_:1})]),_:1}),l(_).length>=3?(c(),P(D,{key:0,class:"mb-4"},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(G,{title:"ðŸ† Top 3 Domains"},{default:e(()=>[t(D,null,{default:e(()=>[t(p,{cols:"12",md:"4",class:"order-md-1"},{default:e(()=>[t(N,{elevation:"4",class:"h-100",color:"grey-lighten-4"},{default:e(()=>[t(U,{class:"text-center"},{default:e(()=>[t(x,{size:"48",color:"grey"},{default:e(()=>a[34]||(a[34]=[n("mdi-medal")])),_:1}),a[39]||(a[39]=s("div",{class:"text-h5 font-weight-bold mt-2"},"#2",-1)),s("div",ht,r(l(_)[1].domain.name),1),t(Y,{class:"my-3"}),s("div",kt,[a[35]||(a[35]=s("span",{class:"text-caption"},"Score:",-1)),s("span",St,r(l(_)[1].formattedScore),1)]),s("div",wt,[a[36]||(a[36]=s("span",{class:"text-caption"},"Requests:",-1)),s("span",Rt,r(l(_)[1].formattedRequests),1)]),s("div",Pt,[a[37]||(a[37]=s("span",{class:"text-caption"},"Success:",-1)),s("span",qt,r(l(_)[1].formattedSuccessRate),1)]),t(y,{color:"primary",variant:"tonal",size:"small",class:"mt-3",onClick:a[1]||(a[1]=o=>Z(l(_)[1].domain.id))},{default:e(()=>a[38]||(a[38]=[n(" View Dashboard ")])),_:1})]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",md:"4",class:"order-md-0"},{default:e(()=>[t(N,{elevation:"8",class:"h-100",color:"warning-lighten-4"},{default:e(()=>[t(U,{class:"text-center"},{default:e(()=>[t(x,{size:"64",color:"warning"},{default:e(()=>a[40]||(a[40]=[n("mdi-trophy")])),_:1}),a[45]||(a[45]=s("div",{class:"text-h4 font-weight-bold mt-2"},"ðŸ‘‘ #1",-1)),s("div",Dt,r(l(_)[0].domain.name),1),t(Y,{class:"my-3"}),s("div",Ft,[a[41]||(a[41]=s("span",{class:"text-caption"},"Score:",-1)),s("span",zt,r(l(_)[0].formattedScore),1)]),s("div",Ct,[a[42]||(a[42]=s("span",{class:"text-caption"},"Requests:",-1)),s("span",Tt,r(l(_)[0].formattedRequests),1)]),s("div",Vt,[a[43]||(a[43]=s("span",{class:"text-caption"},"Success:",-1)),s("span",$t,r(l(_)[0].formattedSuccessRate),1)]),t(y,{color:"warning",variant:"flat",size:"small",class:"mt-3",onClick:a[2]||(a[2]=o=>Z(l(_)[0].domain.id))},{default:e(()=>a[44]||(a[44]=[n(" View Dashboard ")])),_:1})]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",md:"4",class:"order-md-2"},{default:e(()=>[t(N,{elevation:"4",class:"h-100",color:"orange-lighten-4"},{default:e(()=>[t(U,{class:"text-center"},{default:e(()=>[t(x,{size:"48",color:"orange"},{default:e(()=>a[46]||(a[46]=[n("mdi-medal")])),_:1}),a[51]||(a[51]=s("div",{class:"text-h5 font-weight-bold mt-2"},"#3",-1)),s("div",At,r(l(_)[2].domain.name),1),t(Y,{class:"my-3"}),s("div",Lt,[a[47]||(a[47]=s("span",{class:"text-caption"},"Score:",-1)),s("span",Mt,r(l(_)[2].formattedScore),1)]),s("div",jt,[a[48]||(a[48]=s("span",{class:"text-caption"},"Requests:",-1)),s("span",Ut,r(l(_)[2].formattedRequests),1)]),s("div",Nt,[a[49]||(a[49]=s("span",{class:"text-caption"},"Success:",-1)),s("span",Ot,r(l(_)[2].formattedSuccessRate),1)]),t(y,{color:"primary",variant:"tonal",size:"small",class:"mt-3",onClick:a[3]||(a[3]=o=>Z(l(_)[2].domain.id))},{default:e(()=>a[50]||(a[50]=[n(" View Dashboard ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):F("",!0),t(D,null,{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(ye,{title:"Complete Ranking"},{default:e(()=>[t(ge,{"fixed-header":"",height:"600px"},{default:e(()=>[a[53]||(a[53]=s("thead",null,[s("tr",null,[s("th",{class:"text-center",style:{width:"80px"}},"Rank"),s("th",{class:"text-left"},"Domain"),s("th",{class:"text-right"},"Score"),s("th",{class:"text-right"},"Total Requests"),s("th",{class:"text-right"},"Success Rate"),s("th",{class:"text-right"},"Avg Speed"),s("th",{class:"text-center"},"Providers"),s("th",{class:"text-center"},"States"),s("th",{class:"text-center"},"Reports"),s("th",{class:"text-center"},"Period"),s("th",{class:"text-center"},"Actions")])],-1)),s("tbody",null,[(c(!0),T(ue,null,ce(l(k),o=>(c(),T("tr",{key:o.domain.id},[s("td",Et,[t(B,{color:ve(o.rank),variant:"flat",size:"small"},{default:e(()=>[o.rank<=3?(c(),P(x,{key:0,size:"small",class:"mr-1"},{default:e(()=>[n(r(L(o.rank)),1)]),_:2},1024)):F("",!0),n(" "+r(o.rank),1)]),_:2},1032,["color"])]),s("td",null,[s("div",Bt,r(o.domain.name),1),s("div",Gt,r(o.domain.slug),1)]),s("td",Wt,[t(B,{color:"primary",variant:"tonal",size:"small"},{default:e(()=>[n(r(o.formattedScore),1)]),_:2},1024)]),s("td",It,r(o.formattedRequests),1),s("td",Kt,[t(B,{color:o.metrics.success_rate>=90?"success":o.metrics.success_rate>=70?"warning":"error",variant:"tonal",size:"small"},{default:e(()=>[n(r(o.formattedSuccessRate),1)]),_:2},1032,["color"])]),s("td",Yt,r(o.formattedSpeed),1),s("td",Xt,[t(B,{size:"small",variant:"outlined"},{default:e(()=>[n(r(o.metrics.unique_providers),1)]),_:2},1024)]),s("td",Ht,[t(B,{size:"small",variant:"outlined"},{default:e(()=>[n(r(o.metrics.unique_states),1)]),_:2},1024)]),s("td",Jt,r(o.coverage.total_reports),1),s("td",Qt,[s("div",Zt,r(o.formattedPeriod),1),s("div",ea,r(o.coverage.days_covered)+" days",1)]),s("td",ta,[t(y,{icon:"",size:"small",variant:"text",color:"primary",onClick:de=>Z(o.domain.id),title:"View Dashboard"},{default:e(()=>[t(x,null,{default:e(()=>a[52]||(a[52]=[n("mdi-chart-box")])),_:1})]),_:2},1032,["onClick"])])]))),128))])]),_:1}),l(k).length===0?(c(),T("div",aa,[t(x,{size:"64",color:"grey"},{default:e(()=>a[54]||(a[54]=[n("mdi-chart-box-outline")])),_:1}),a[55]||(a[55]=s("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No ranking data available",-1))])):F("",!0)]),_:1})]),_:1})]),_:1})])):F("",!0)])):F("",!0),I.value==="provider-ranking"?(c(),T("div",sa,[t(st)])):F("",!0),I.value==="comparison"?(c(),T("div",oa,[t(D,{class:"mb-6"},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(ye,{title:"Select Domains to Compare"},{default:e(()=>[t(Re,{onSubmit:Te(me,["prevent"])},{default:e(()=>[t(D,null,{default:e(()=>[t(p,{cols:"12",md:"6"},{default:e(()=>[t(J,{modelValue:K.value,"onUpdate:modelValue":a[4]||(a[4]=o=>K.value=o),items:C.value,label:"Select Domains (minimum 2)",variant:"outlined",multiple:"",chips:"","closable-chips":"",hint:"The first domain will be used as the baseline","persistent-hint":""},null,8,["modelValue","items"])]),_:1}),t(p,{cols:"12",md:"3"},{default:e(()=>[t(fe,{modelValue:Q.value,"onUpdate:modelValue":a[5]||(a[5]=o=>Q.value=o),label:"From Date (Optional)",type:"date",variant:"outlined",clearable:""},null,8,["modelValue"])]),_:1}),t(p,{cols:"12",md:"3"},{default:e(()=>[t(fe,{modelValue:g.value,"onUpdate:modelValue":a[6]||(a[6]=o=>g.value=o),label:"To Date (Optional)",type:"date",variant:"outlined",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(D,null,{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[s("div",la,[t(y,{type:"submit",color:"primary","prepend-icon":"mdi-compare",disabled:K.value.length<2,loading:l(f)},{default:e(()=>a[56]||(a[56]=[n(" Compare Domains ")])),_:1},8,["disabled","loading"]),t(y,{variant:"outlined",onClick:pe,"prepend-icon":"mdi-refresh"},{default:e(()=>a[57]||(a[57]=[n(" Clear ")])),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(f)?(c(),P(D,{key:0},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(G,null,{default:e(()=>[s("div",na,[t(ae,{indeterminate:"",color:"primary",size:"64"})])]),_:1})]),_:1})]),_:1})):l(R)?(c(),P(D,{key:1},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(G,null,{default:e(()=>[t(H,{type:"error",variant:"tonal",class:"mb-0"},{default:e(()=>[n(r(l(R)),1)]),_:1})]),_:1})]),_:1})]),_:1})):l(q)&&l(q).domains?(c(),T("div",ra,[t(D,null,{default:e(()=>[(c(!0),T(ue,null,ce(l(q).domains,(o,de)=>(c(),P(p,{key:o.domain.id,cols:"12",md:l(q).domains.length===2?6:l(q).domains.length===3?4:3},{default:e(()=>[t(N,{elevation:"4",class:$e([{"border-primary":de===0},"h-100"])},{default:e(()=>[t(xe,{class:"d-flex align-center justify-space-between"},{default:e(()=>[s("div",null,[n(r(o.domain.name)+" ",1),de===0?(c(),P(B,{key:0,color:"primary",size:"x-small",class:"ml-2"},{default:e(()=>a[58]||(a[58]=[n(" Baseline ")])),_:1})):F("",!0)])]),_:2},1024),t(U,null,{default:e(()=>[t(Pe,{density:"compact"},{default:e(()=>[t(ie,null,{prepend:e(()=>[t(x,{color:"primary"},{default:e(()=>a[59]||(a[59]=[n("mdi-chart-line")])),_:1})]),append:e(()=>[s("div",ia,[s("span",da,r(le(o.metrics.total_requests)),1),o.comparison?(c(),P(B,{key:0,color:l(E)(o.comparison.requests_diff),size:"x-small",variant:"tonal"},{default:e(()=>[t(x,{size:"x-small"},{default:e(()=>[n(r(l(O)(o.comparison.requests_diff)),1)]),_:2},1024),n(" "+r(o.comparison.requests_diff_label),1)]),_:2},1032,["color"])):F("",!0)])]),default:e(()=>[t(re,null,{default:e(()=>a[60]||(a[60]=[n("Total Requests")])),_:1})]),_:2},1024),t(Y,{class:"my-2"}),t(ie,null,{prepend:e(()=>[t(x,{color:"success"},{default:e(()=>a[61]||(a[61]=[n("mdi-check-circle")])),_:1})]),append:e(()=>[s("div",ua,[s("span",ca,r(o.metrics.success_rate.toFixed(1))+"%",1),o.comparison?(c(),P(B,{key:0,color:l(E)(o.comparison.success_diff),size:"x-small",variant:"tonal"},{default:e(()=>[t(x,{size:"x-small"},{default:e(()=>[n(r(l(O)(o.comparison.success_diff)),1)]),_:2},1024),n(" "+r(o.comparison.success_diff_label),1)]),_:2},1032,["color"])):F("",!0)])]),default:e(()=>[t(re,null,{default:e(()=>a[62]||(a[62]=[n("Success Rate")])),_:1})]),_:2},1024),t(Y,{class:"my-2"}),t(ie,null,{prepend:e(()=>[t(x,{color:"info"},{default:e(()=>a[63]||(a[63]=[n("mdi-speedometer")])),_:1})]),append:e(()=>[s("div",ma,[s("span",pa,r(o.metrics.avg_speed.toFixed(1))+" Mbps",1),o.comparison?(c(),P(B,{key:0,color:l(E)(o.comparison.speed_diff),size:"x-small",variant:"tonal"},{default:e(()=>[t(x,{size:"x-small"},{default:e(()=>[n(r(l(O)(o.comparison.speed_diff)),1)]),_:2},1024),n(" "+r(o.comparison.speed_diff_label),1)]),_:2},1032,["color"])):F("",!0)])]),default:e(()=>[t(re,null,{default:e(()=>a[64]||(a[64]=[n("Average Speed")])),_:1})]),_:2},1024),o.metrics.unique_providers?(c(),P(Y,{key:0,class:"my-2"})):F("",!0),o.metrics.unique_providers?(c(),P(ie,{key:1},{prepend:e(()=>[t(x,{color:"warning"},{default:e(()=>a[65]||(a[65]=[n("mdi-domain")])),_:1})]),append:e(()=>[s("span",va,r(o.metrics.unique_providers),1)]),default:e(()=>[t(re,null,{default:e(()=>a[66]||(a[66]=[n("Unique Providers")])),_:1})]),_:2},1024)):F("",!0),o.metrics.unique_states?(c(),P(Y,{key:2,class:"my-2"})):F("",!0),o.metrics.unique_states?(c(),P(ie,{key:3},{prepend:e(()=>[t(x,{color:"secondary"},{default:e(()=>a[67]||(a[67]=[n("mdi-map-marker")])),_:1})]),append:e(()=>[s("span",_a,r(o.metrics.unique_states),1)]),default:e(()=>[t(re,null,{default:e(()=>a[68]||(a[68]=[n("Unique States")])),_:1})]),_:2},1024)):F("",!0)]),_:2},1024)]),_:2},1024),t(qe,null,{default:e(()=>[t(y,{variant:"text",color:"primary",onClick:qa=>Z(o.domain.id),"prepend-icon":"mdi-chart-box",block:""},{default:e(()=>a[69]||(a[69]=[n(" View Dashboard ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1032,["md"]))),128))]),_:1}),l(q).provider_data?(c(),P(D,{key:0},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(N,{elevation:"4"},{default:e(()=>[t(xe,{class:"d-flex align-center"},{default:e(()=>[t(x,{start:"",color:"primary"},{default:e(()=>a[70]||(a[70]=[n("mdi-account-network")])),_:1}),a[71]||(a[71]=n(" Provider Overview "))]),_:1}),t(U,null,{default:e(()=>[t(D,{class:"mb-4"},{default:e(()=>[t(p,{cols:"12",md:"6"},{default:e(()=>[t(N,{variant:"tonal",color:"primary"},{default:e(()=>[t(U,{class:"text-center"},{default:e(()=>[s("div",ga,r(l(q).provider_data.unique_providers_count),1),a[72]||(a[72]=s("div",{class:"text-caption"},"Total Unique Providers",-1))]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",md:"6"},{default:e(()=>[t(N,{variant:"tonal",color:"primary"},{default:e(()=>[t(U,{class:"text-center"},{default:e(()=>[s("div",fa,r(l(q).provider_data.common_providers.length),1),a[73]||(a[73]=s("div",{class:"text-caption"},"Common Providers (in all domains)",-1))]),_:1})]),_:1})]),_:1})]),_:1}),l(q).provider_data.common_providers.length>0?(c(),T("div",xa,[s("h3",ya,[t(x,{start:"",size:"small"},{default:e(()=>a[74]||(a[74]=[n("mdi-chart-bar")])),_:1}),a[75]||(a[75]=n(" All Providers in Selected Domains "))]),t(H,{color:"primary",variant:"tonal",density:"compact",class:"mb-3"},{default:e(()=>[n(" Aggregated data for all providers across "+r(l(q).total_compared)+" selected domains ",1)]),_:1}),t(ge,{density:"compact"},{default:e(()=>[a[76]||(a[76]=s("thead",null,[s("tr",null,[s("th",{class:"text-left"},"Rank"),s("th",{class:"text-left"},"Provider"),s("th",{class:"text-left"},"Technology"),s("th",{class:"text-right"},"Total Requests"),s("th",{class:"text-right"},"Avg Speed"),s("th",{class:"text-center"},"Appearances")])],-1)),s("tbody",null,[(c(!0),T(ue,null,ce(l(q).provider_data.common_providers,(o,de)=>(c(),T("tr",{key:o.provider_id},[s("td",ba,"#"+r(de+1),1),s("td",ha,r(o.provider_name),1),s("td",null,[t(B,{size:"small",variant:"tonal",color:m(o.technology)},{default:e(()=>[n(r(o.technology),1)]),_:2},1032,["color"])]),s("td",ka,r(o.total_requests.toLocaleString()),1),s("td",Sa,r(o.avg_speed.toFixed(0))+" ms",1),s("td",wa,[t(B,{size:"small",variant:"tonal",color:o.appearances>=l(q).total_compared*20?"success":"info"},{default:e(()=>[n(r(o.appearances)+" reports ",1)]),_:2},1032,["color"])])]))),128))])]),_:1})])):F("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):F("",!0)])):!l(f)&&!l(R)?(c(),P(D,{key:3},{default:e(()=>[t(p,{cols:"12"},{default:e(()=>[t(G,null,{default:e(()=>[s("div",Ra,[t(x,{size:"80",color:"grey"},{default:e(()=>a[77]||(a[77]=[n("mdi-compare")])),_:1}),a[78]||(a[78]=s("h3",{class:"text-h5 mt-4 mb-2"},"Select domains to compare",-1)),a[79]||(a[79]=s("p",{class:"text-medium-emphasis"}," Choose at least 2 domains from the selector above to see a detailed comparison ",-1))])]),_:1})]),_:1})]),_:1})):F("",!0)])):F("",!0)])}}}),$a=ke(Pa,[["__scopeId","data-v-8b470ba2"]]);export{$a as default};
