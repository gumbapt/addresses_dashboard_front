import{e as z,l as Q,s as U,d as he,o as ke,c as k,a as s,h as f,i as y,w as e,r as p,q as l,g as a,j as n,t as i,F as ee,m as te,k as we,n as Se,b as r,E as De,_ as Re}from"./DeT5GG9l.js";import{_ as C}from"./CfXC0es7.js";import{_ as se}from"./BhAq8yXs.js";import{R as re}from"./CUaHYzzS.js";import{u as ze}from"./JZZ9UQSX.js";const qe=()=>{const h=z(null),F=z(!1),D=z(null),B=z("score"),W=new re,g=async(c="score")=>{F.value=!0,D.value=null,B.value=c;try{const m=await W.getGlobalDomainRanking(c);m.success&&m.data?h.value=m.data:(D.value=m.error||"Failed to load ranking",h.value=null)}catch{D.value="Unexpected error loading ranking",h.value=null}finally{F.value=!1}},_=Q(()=>{var c;return!((c=h.value)!=null&&c.ranking)||!Array.isArray(h.value.ranking)?[]:h.value.ranking.map(m=>({...m,formattedPeriod:`${new Date(m.coverage.period_start).toLocaleDateString()} - ${new Date(m.coverage.period_end).toLocaleDateString()}`,formattedRequests:V(m.metrics.total_requests),formattedSuccessRate:m.metrics.success_rate.toFixed(1)+"%",formattedSpeed:m.metrics.avg_speed>0?m.metrics.avg_speed.toFixed(1)+" Mbps":"N/A",formattedScore:m.metrics.score.toFixed(1)}))}),V=c=>c>=1e6?(c/1e6).toFixed(1)+"M":c>=1e3?(c/1e3).toFixed(1)+"K":c.toString(),v=Q(()=>_.value.slice(0,3)),w=Q(()=>{var O;if(!((O=h.value)!=null&&O.ranking)||h.value.ranking.length===0)return{totalDomains:0,totalRequests:0,avgSuccessRate:0,avgSpeed:0};const c=h.value.ranking,m=c.reduce((A,R)=>A+R.metrics.total_requests,0),j=c.reduce((A,R)=>A+R.metrics.success_rate,0)/c.length,q=c.filter(A=>A.metrics.avg_speed>0),T=q.length>0?q.reduce((A,R)=>A+R.metrics.avg_speed,0)/q.length:0;return{totalDomains:c.length,totalRequests:m,avgSuccessRate:j,avgSpeed:T}});return{rankingData:U(h),loading:U(F),error:U(D),currentSortBy:U(B),formattedRanking:_,topThree:v,globalStats:w,loadRanking:g}},Ce=()=>{const h=z(null),F=z(!1),D=z(null),B=new re,W=async(v,w,c,m)=>{if(v.length<2){D.value="Please select at least 2 domains to compare";return}F.value=!0,D.value=null;try{const j=await B.compareDomains(v,w,c,m);j.success&&j.data?h.value=j.data:(D.value=j.error||"Failed to load comparison",h.value=null)}catch{D.value="Unexpected error loading comparison",h.value=null}finally{F.value=!1}},g=v=>v>=1e6?(v/1e6).toFixed(1)+"M":v>=1e3?(v/1e3).toFixed(1)+"K":v.toString(),_=(v,w=!1)=>w?v>0?"error":v<0?"success":"default":v>0?"success":v<0?"error":"default",V=v=>v>0?"mdi-arrow-up":v<0?"mdi-arrow-down":"mdi-minus";return{comparisonData:U(h),loading:U(F),error:U(D),loadComparison:W,formatNumber:g,getDiffColor:_,getDiffIcon:V}},Fe={class:"d-flex justify-center align-center py-8"},Ve={key:2},je={key:0},Ae={class:"d-flex align-center justify-space-between mb-2"},Te={class:"text-h3 font-weight-bold text-primary"},Ne={class:"d-flex align-center justify-space-between mb-2"},Me={class:"text-h3 font-weight-bold text-success"},Be={class:"d-flex align-center justify-space-between mb-2"},$e={class:"text-h3 font-weight-bold text-info"},Le={class:"d-flex align-center justify-space-between mb-2"},Ue={class:"text-h3 font-weight-bold text-warning"},Oe={key:1,class:"text-center py-8"},Pe={key:1,class:"text-center py-8"},We={key:1,class:"text-center py-8"},Ee={key:1,class:"text-center py-8"},Ge={class:"text-h6 mt-2"},Ie={class:"d-flex justify-space-between mb-2"},Ke={class:"font-weight-bold"},Xe={class:"d-flex justify-space-between mb-2"},He={class:"font-weight-bold"},Je={class:"d-flex justify-space-between"},Qe={class:"font-weight-bold"},Ye={class:"text-h5 mt-2"},Ze={class:"d-flex justify-space-between mb-2"},et={class:"font-weight-bold text-h6"},tt={class:"d-flex justify-space-between mb-2"},st={class:"font-weight-bold"},at={class:"d-flex justify-space-between"},ot={class:"font-weight-bold"},lt={class:"text-h6 mt-2"},nt={class:"d-flex justify-space-between mb-2"},it={class:"font-weight-bold"},rt={class:"d-flex justify-space-between mb-2"},dt={class:"font-weight-bold"},ut={class:"d-flex justify-space-between"},ct={class:"font-weight-bold"},mt={class:"text-center"},ft={class:"font-weight-medium"},pt={class:"text-caption text-medium-emphasis"},_t={class:"text-right"},vt={class:"text-right font-weight-medium"},gt={class:"text-right"},xt={class:"text-right"},bt={class:"text-center"},yt={class:"text-center"},ht={class:"text-center"},kt={class:"text-center"},wt={class:"text-caption"},St={class:"text-caption text-medium-emphasis"},Dt={class:"text-center"},Rt={key:0,class:"text-center py-8"},zt={key:3},qt={class:"d-flex gap-2"},Ct={class:"d-flex justify-center align-center py-8"},Ft={key:2},Vt={class:"d-flex align-center gap-2"},jt={class:"font-weight-bold"},At={class:"d-flex align-center gap-2"},Tt={class:"font-weight-bold"},Nt={class:"d-flex align-center gap-2"},Mt={class:"font-weight-bold"},Bt={class:"font-weight-bold"},$t={class:"font-weight-bold"},Lt={class:"text-subtitle-2"},Ut={class:"font-weight-medium"},Ot={class:"text-caption text-medium-emphasis"},Pt={class:"text-right"},Wt={class:"text-right"},Et={class:"text-right"},Gt={class:"text-center"},It={key:0,class:"d-flex justify-center gap-1 flex-wrap"},Kt={class:"text-center py-12"},Xt=he({__name:"index",setup(h){const{rankingData:F,loading:D,error:B,currentSortBy:W,formattedRanking:g,topThree:_,globalStats:V,loadRanking:v}=qe(),{comparisonData:w,loading:c,error:m,loadComparison:j,getDiffColor:q,getDiffIcon:T}=Ce(),{domains:O,loadDomains:A}=ze(),R=z("ranking"),P=z([]),K=z(""),X=z(""),de=[{value:"score",label:"Overall Score"},{value:"volume",label:"Total Requests"},{value:"success",label:"Success Rate"},{value:"speed",label:"Average Speed"}],ue=Q(()=>!O.value||!Array.isArray(O.value)?[]:O.value.map(x=>({value:x.id,title:x.name})));ke(()=>{v("score"),A()});const ce=x=>{v(x)},E=x=>{Se(`/domains/${x}/dashboard`)},me=()=>{P.value.length<2||(j(P.value,void 0,K.value||void 0,X.value||void 0),R.value="comparison")},fe=()=>{P.value=[],K.value="",X.value=""},H=x=>x>=1e6?(x/1e6).toFixed(1)+"M":x>=1e3?(x/1e3).toFixed(1)+"K":x.toString(),pe=x=>x===1?"warning":x===2?"grey":x===3?"orange":"default",_e=x=>x<=3?"mdi-medal":"mdi-numeric-"+x+"-circle";return(x,t)=>{const d=p("v-col"),b=p("v-row"),u=p("v-icon"),ae=p("v-tab"),ve=p("v-tabs"),oe=p("v-progress-circular"),Y=p("v-alert"),le=p("v-select"),N=p("v-card-text"),M=p("v-card"),J=p("apexchart"),$=p("v-divider"),L=p("v-btn"),S=p("v-chip"),ne=p("v-table"),ie=p("v-text-field"),ge=p("v-form"),xe=p("v-card-title"),G=p("v-list-item-title"),I=p("v-list-item"),be=p("v-list"),ye=p("v-card-actions");return r(),k("div",null,[s(b,{class:"mb-4"},{default:e(()=>[s(d,{cols:"12"},{default:e(()=>t[7]||(t[7]=[a("h1",{class:"text-h4 font-weight-bold"},"Global Dashboard",-1),a("p",{class:"text-body-1 text-medium-emphasis"}," Comprehensive platform analytics and domain comparison ",-1)])),_:1})]),_:1}),s(b,{class:"mb-4"},{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[s(ve,{modelValue:R.value,"onUpdate:modelValue":t[0]||(t[0]=o=>R.value=o),color:"primary"},{default:e(()=>[s(ae,{value:"ranking"},{default:e(()=>[s(u,{class:"mr-2"},{default:e(()=>t[8]||(t[8]=[n("mdi-trophy")])),_:1}),t[9]||(t[9]=n(" Domain Ranking "))]),_:1}),s(ae,{value:"comparison"},{default:e(()=>[s(u,{class:"mr-2"},{default:e(()=>t[10]||(t[10]=[n("mdi-compare")])),_:1}),t[11]||(t[11]=n(" Compare Domains "))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(D)?(r(),f(b,{key:0},{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[s(C,null,{default:e(()=>[a("div",Fe,[s(oe,{indeterminate:"",color:"primary",size:"64"})])]),_:1})]),_:1})]),_:1})):l(B)?(r(),f(b,{key:1},{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[s(C,null,{default:e(()=>[s(Y,{type:"error",variant:"tonal",class:"mb-0"},{default:e(()=>[n(i(l(B)),1)]),_:1})]),_:1})]),_:1})]),_:1})):y("",!0),R.value==="ranking"?(r(),k("div",Ve,[s(b,{class:"mb-4"},{default:e(()=>[s(d,{cols:"12",class:"d-flex justify-end"},{default:e(()=>[s(le,{"model-value":l(W),"onUpdate:modelValue":ce,items:de,"item-title":"label","item-value":"value",label:"Sort By",variant:"outlined",density:"compact","hide-details":"",style:{width:"200px"},"prepend-inner-icon":"mdi-sort"},null,8,["model-value"])]),_:1})]),_:1}),l(F)?(r(),k("div",je,[s(b,{class:"mb-4"},{default:e(()=>[s(d,{cols:"12",sm:"6",md:"3"},{default:e(()=>[s(M,{elevation:"2",class:"h-100"},{default:e(()=>[s(N,null,{default:e(()=>[a("div",Ae,[t[13]||(t[13]=a("div",{class:"text-h6 text-medium-emphasis"},"Total Domains",-1)),s(u,{color:"primary",size:"32"},{default:e(()=>t[12]||(t[12]=[n("mdi-domain")])),_:1})]),a("div",Te,i(l(V).totalDomains),1),t[14]||(t[14]=a("div",{class:"text-caption text-medium-emphasis mt-1"}," Active domains ",-1))]),_:1})]),_:1})]),_:1}),s(d,{cols:"12",sm:"6",md:"3"},{default:e(()=>[s(M,{elevation:"2",class:"h-100"},{default:e(()=>[s(N,null,{default:e(()=>[a("div",Ne,[t[16]||(t[16]=a("div",{class:"text-h6 text-medium-emphasis"},"Total Requests",-1)),s(u,{color:"success",size:"32"},{default:e(()=>t[15]||(t[15]=[n("mdi-chart-line")])),_:1})]),a("div",Me,i(H(l(V).totalRequests)),1),t[17]||(t[17]=a("div",{class:"text-caption text-medium-emphasis mt-1"}," Across all domains ",-1))]),_:1})]),_:1})]),_:1}),s(d,{cols:"12",sm:"6",md:"3"},{default:e(()=>[s(M,{elevation:"2",class:"h-100"},{default:e(()=>[s(N,null,{default:e(()=>[a("div",Be,[t[19]||(t[19]=a("div",{class:"text-h6 text-medium-emphasis"},"Avg Success Rate",-1)),s(u,{color:"info",size:"32"},{default:e(()=>t[18]||(t[18]=[n("mdi-check-circle")])),_:1})]),a("div",$e,i(l(V).avgSuccessRate.toFixed(1))+"% ",1),t[20]||(t[20]=a("div",{class:"text-caption text-medium-emphasis mt-1"}," Average across domains ",-1))]),_:1})]),_:1})]),_:1}),s(d,{cols:"12",sm:"6",md:"3"},{default:e(()=>[s(M,{elevation:"2",class:"h-100"},{default:e(()=>[s(N,null,{default:e(()=>[a("div",Le,[t[22]||(t[22]=a("div",{class:"text-h6 text-medium-emphasis"},"Avg Speed",-1)),s(u,{color:"warning",size:"32"},{default:e(()=>t[21]||(t[21]=[n("mdi-speedometer")])),_:1})]),a("div",Ue,i(l(V).avgSpeed>0?l(V).avgSpeed.toFixed(1):"N/A"),1),t[23]||(t[23]=a("div",{class:"text-caption text-medium-emphasis mt-1"}," Mbps average ",-1))]),_:1})]),_:1})]),_:1})]),_:1}),s(b,{class:"mb-4"},{default:e(()=>[s(d,{cols:"12",md:"6"},{default:e(()=>[s(C,null,{default:e(()=>[l(g).length>0?(r(),f(J,{key:0,type:"bar",height:"300",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Top Domains by Volume",align:"left",style:{fontSize:"16px",fontWeight:600}},plotOptions:{bar:{horizontal:!0,borderRadius:4,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(o){return H(o)},offsetX:30},xaxis:{categories:l(g).slice(0,5).map(o=>o.domain.name)},colors:["#1976d2"]},series:[{name:"Requests",data:l(g).slice(0,5).map(o=>o.metrics.total_requests)}]},null,8,["options","series"])):(r(),k("div",Oe,[s(u,{size:"64",color:"grey"},{default:e(()=>t[24]||(t[24]=[n("mdi-chart-bar")])),_:1}),t[25]||(t[25]=a("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No data available",-1))]))]),_:1})]),_:1}),s(d,{cols:"12",md:"6"},{default:e(()=>[s(C,null,{default:e(()=>[l(g).length>0?(r(),f(J,{key:0,type:"donut",height:"300",options:{chart:{type:"donut",fontFamily:"inherit"},title:{text:"Success Rate Distribution",align:"left",style:{fontSize:"16px",fontWeight:600}},labels:["Excellent (â‰¥95%)","Good (90-95%)","Fair (80-90%)","Poor (<80%)"],colors:["#4caf50","#8bc34a","#ffc107","#f44336"],legend:{position:"bottom"},dataLabels:{enabled:!0,formatter:function(o){return o.toFixed(0)+"%"}}},series:[l(g).filter(o=>o.metrics.success_rate>=95).length,l(g).filter(o=>o.metrics.success_rate>=90&&o.metrics.success_rate<95).length,l(g).filter(o=>o.metrics.success_rate>=80&&o.metrics.success_rate<90).length,l(g).filter(o=>o.metrics.success_rate<80).length]},null,8,["options","series"])):(r(),k("div",Pe,[s(u,{size:"64",color:"grey"},{default:e(()=>t[26]||(t[26]=[n("mdi-chart-donut")])),_:1}),t[27]||(t[27]=a("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No data available",-1))]))]),_:1})]),_:1})]),_:1}),s(b,{class:"mb-4"},{default:e(()=>[s(d,{cols:"12",md:"6"},{default:e(()=>[s(C,null,{default:e(()=>[l(g).length>0?(r(),f(J,{key:0,type:"bar",height:"300",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Reports per Domain",align:"left",style:{fontSize:"16px",fontWeight:600}},plotOptions:{bar:{borderRadius:4,columnWidth:"60%"}},dataLabels:{enabled:!1},xaxis:{categories:l(g).map(o=>o.domain.name),labels:{rotate:-45,style:{fontSize:"11px"}}},yaxis:{title:{text:"Number of Reports"}},colors:["#ff9800"]},series:[{name:"Reports",data:l(g).map(o=>o.coverage.total_reports)}]},null,8,["options","series"])):(r(),k("div",We,[s(u,{size:"64",color:"grey"},{default:e(()=>t[28]||(t[28]=[n("mdi-chart-bar")])),_:1}),t[29]||(t[29]=a("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No data available",-1))]))]),_:1})]),_:1}),s(d,{cols:"12",md:"6"},{default:e(()=>[s(C,null,{default:e(()=>[l(g).filter(o=>o.metrics.avg_speed>0).length>0?(r(),f(J,{key:0,type:"bar",height:"300",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Average Speed by Domain",align:"left",style:{fontSize:"16px",fontWeight:600}},plotOptions:{bar:{borderRadius:4,columnWidth:"60%"}},dataLabels:{enabled:!0,formatter:function(o){return o.toFixed(0)+" Mbps"}},xaxis:{categories:l(g).filter(o=>o.metrics.avg_speed>0).map(o=>o.domain.name),labels:{rotate:-45,style:{fontSize:"11px"}}},yaxis:{title:{text:"Speed (Mbps)"}},colors:["#9c27b0"]},series:[{name:"Avg Speed",data:l(g).filter(o=>o.metrics.avg_speed>0).map(o=>o.metrics.avg_speed)}]},null,8,["options","series"])):(r(),k("div",Ee,[s(u,{size:"64",color:"grey"},{default:e(()=>t[30]||(t[30]=[n("mdi-speedometer")])),_:1}),t[31]||(t[31]=a("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No speed data available",-1))]))]),_:1})]),_:1})]),_:1}),l(_).length>=3?(r(),f(b,{key:0,class:"mb-4"},{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[s(C,{title:"ðŸ† Top 3 Domains"},{default:e(()=>[s(b,null,{default:e(()=>[s(d,{cols:"12",md:"4",class:"order-md-1"},{default:e(()=>[s(M,{elevation:"4",class:"h-100",color:"grey-lighten-4"},{default:e(()=>[s(N,{class:"text-center"},{default:e(()=>[s(u,{size:"48",color:"grey"},{default:e(()=>t[32]||(t[32]=[n("mdi-medal")])),_:1}),t[37]||(t[37]=a("div",{class:"text-h5 font-weight-bold mt-2"},"#2",-1)),a("div",Ge,i(l(_)[1].domain.name),1),s($,{class:"my-3"}),a("div",Ie,[t[33]||(t[33]=a("span",{class:"text-caption"},"Score:",-1)),a("span",Ke,i(l(_)[1].formattedScore),1)]),a("div",Xe,[t[34]||(t[34]=a("span",{class:"text-caption"},"Requests:",-1)),a("span",He,i(l(_)[1].formattedRequests),1)]),a("div",Je,[t[35]||(t[35]=a("span",{class:"text-caption"},"Success:",-1)),a("span",Qe,i(l(_)[1].formattedSuccessRate),1)]),s(L,{color:"primary",variant:"tonal",size:"small",class:"mt-3",onClick:t[1]||(t[1]=o=>E(l(_)[1].domain.id))},{default:e(()=>t[36]||(t[36]=[n(" View Dashboard ")])),_:1})]),_:1})]),_:1})]),_:1}),s(d,{cols:"12",md:"4",class:"order-md-0"},{default:e(()=>[s(M,{elevation:"8",class:"h-100",color:"warning-lighten-4"},{default:e(()=>[s(N,{class:"text-center"},{default:e(()=>[s(u,{size:"64",color:"warning"},{default:e(()=>t[38]||(t[38]=[n("mdi-trophy")])),_:1}),t[43]||(t[43]=a("div",{class:"text-h4 font-weight-bold mt-2"},"ðŸ‘‘ #1",-1)),a("div",Ye,i(l(_)[0].domain.name),1),s($,{class:"my-3"}),a("div",Ze,[t[39]||(t[39]=a("span",{class:"text-caption"},"Score:",-1)),a("span",et,i(l(_)[0].formattedScore),1)]),a("div",tt,[t[40]||(t[40]=a("span",{class:"text-caption"},"Requests:",-1)),a("span",st,i(l(_)[0].formattedRequests),1)]),a("div",at,[t[41]||(t[41]=a("span",{class:"text-caption"},"Success:",-1)),a("span",ot,i(l(_)[0].formattedSuccessRate),1)]),s(L,{color:"warning",variant:"flat",size:"small",class:"mt-3",onClick:t[2]||(t[2]=o=>E(l(_)[0].domain.id))},{default:e(()=>t[42]||(t[42]=[n(" View Dashboard ")])),_:1})]),_:1})]),_:1})]),_:1}),s(d,{cols:"12",md:"4",class:"order-md-2"},{default:e(()=>[s(M,{elevation:"4",class:"h-100",color:"orange-lighten-4"},{default:e(()=>[s(N,{class:"text-center"},{default:e(()=>[s(u,{size:"48",color:"orange"},{default:e(()=>t[44]||(t[44]=[n("mdi-medal")])),_:1}),t[49]||(t[49]=a("div",{class:"text-h5 font-weight-bold mt-2"},"#3",-1)),a("div",lt,i(l(_)[2].domain.name),1),s($,{class:"my-3"}),a("div",nt,[t[45]||(t[45]=a("span",{class:"text-caption"},"Score:",-1)),a("span",it,i(l(_)[2].formattedScore),1)]),a("div",rt,[t[46]||(t[46]=a("span",{class:"text-caption"},"Requests:",-1)),a("span",dt,i(l(_)[2].formattedRequests),1)]),a("div",ut,[t[47]||(t[47]=a("span",{class:"text-caption"},"Success:",-1)),a("span",ct,i(l(_)[2].formattedSuccessRate),1)]),s(L,{color:"primary",variant:"tonal",size:"small",class:"mt-3",onClick:t[3]||(t[3]=o=>E(l(_)[2].domain.id))},{default:e(()=>t[48]||(t[48]=[n(" View Dashboard ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):y("",!0),s(b,null,{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[s(se,{title:"Complete Ranking"},{default:e(()=>[s(ne,{"fixed-header":"",height:"600px"},{default:e(()=>[t[51]||(t[51]=a("thead",null,[a("tr",null,[a("th",{class:"text-center",style:{width:"80px"}},"Rank"),a("th",{class:"text-left"},"Domain"),a("th",{class:"text-right"},"Score"),a("th",{class:"text-right"},"Total Requests"),a("th",{class:"text-right"},"Success Rate"),a("th",{class:"text-right"},"Avg Speed"),a("th",{class:"text-center"},"Providers"),a("th",{class:"text-center"},"States"),a("th",{class:"text-center"},"Reports"),a("th",{class:"text-center"},"Period"),a("th",{class:"text-center"},"Actions")])],-1)),a("tbody",null,[(r(!0),k(ee,null,te(l(g),o=>(r(),k("tr",{key:o.domain.id},[a("td",mt,[s(S,{color:pe(o.rank),variant:"flat",size:"small"},{default:e(()=>[o.rank<=3?(r(),f(u,{key:0,size:"small",class:"mr-1"},{default:e(()=>[n(i(_e(o.rank)),1)]),_:2},1024)):y("",!0),n(" "+i(o.rank),1)]),_:2},1032,["color"])]),a("td",null,[a("div",ft,i(o.domain.name),1),a("div",pt,i(o.domain.slug),1)]),a("td",_t,[s(S,{color:"primary",variant:"tonal",size:"small"},{default:e(()=>[n(i(o.formattedScore),1)]),_:2},1024)]),a("td",vt,i(o.formattedRequests),1),a("td",gt,[s(S,{color:o.metrics.success_rate>=90?"success":o.metrics.success_rate>=70?"warning":"error",variant:"tonal",size:"small"},{default:e(()=>[n(i(o.formattedSuccessRate),1)]),_:2},1032,["color"])]),a("td",xt,i(o.formattedSpeed),1),a("td",bt,[s(S,{size:"small",variant:"outlined"},{default:e(()=>[n(i(o.metrics.unique_providers),1)]),_:2},1024)]),a("td",yt,[s(S,{size:"small",variant:"outlined"},{default:e(()=>[n(i(o.metrics.unique_states),1)]),_:2},1024)]),a("td",ht,i(o.coverage.total_reports),1),a("td",kt,[a("div",wt,i(o.formattedPeriod),1),a("div",St,i(o.coverage.days_covered)+" days",1)]),a("td",Dt,[s(L,{icon:"",size:"small",variant:"text",color:"primary",onClick:Z=>E(o.domain.id),title:"View Dashboard"},{default:e(()=>[s(u,null,{default:e(()=>t[50]||(t[50]=[n("mdi-chart-box")])),_:1})]),_:2},1032,["onClick"])])]))),128))])]),_:1}),l(g).length===0?(r(),k("div",Rt,[s(u,{size:"64",color:"grey"},{default:e(()=>t[52]||(t[52]=[n("mdi-chart-box-outline")])),_:1}),t[53]||(t[53]=a("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No ranking data available",-1))])):y("",!0)]),_:1})]),_:1})]),_:1})])):y("",!0)])):y("",!0),R.value==="comparison"?(r(),k("div",zt,[s(b,{class:"mb-6"},{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[s(se,{title:"Select Domains to Compare"},{default:e(()=>[s(ge,{onSubmit:we(me,["prevent"])},{default:e(()=>[s(b,null,{default:e(()=>[s(d,{cols:"12",md:"6"},{default:e(()=>[s(le,{modelValue:P.value,"onUpdate:modelValue":t[4]||(t[4]=o=>P.value=o),items:ue.value,label:"Select Domains (minimum 2)",variant:"outlined",multiple:"",chips:"","closable-chips":"",hint:"The first domain will be used as the baseline","persistent-hint":""},null,8,["modelValue","items"])]),_:1}),s(d,{cols:"12",md:"3"},{default:e(()=>[s(ie,{modelValue:K.value,"onUpdate:modelValue":t[5]||(t[5]=o=>K.value=o),label:"From Date (Optional)",type:"date",variant:"outlined",clearable:""},null,8,["modelValue"])]),_:1}),s(d,{cols:"12",md:"3"},{default:e(()=>[s(ie,{modelValue:X.value,"onUpdate:modelValue":t[6]||(t[6]=o=>X.value=o),label:"To Date (Optional)",type:"date",variant:"outlined",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),s(b,null,{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[a("div",qt,[s(L,{type:"submit",color:"primary","prepend-icon":"mdi-compare",disabled:P.value.length<2,loading:l(c)},{default:e(()=>t[54]||(t[54]=[n(" Compare Domains ")])),_:1},8,["disabled","loading"]),s(L,{variant:"outlined",onClick:fe,"prepend-icon":"mdi-refresh"},{default:e(()=>t[55]||(t[55]=[n(" Clear ")])),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(c)?(r(),f(b,{key:0},{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[s(C,null,{default:e(()=>[a("div",Ct,[s(oe,{indeterminate:"",color:"primary",size:"64"})])]),_:1})]),_:1})]),_:1})):l(m)?(r(),f(b,{key:1},{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[s(C,null,{default:e(()=>[s(Y,{type:"error",variant:"tonal",class:"mb-0"},{default:e(()=>[n(i(l(m)),1)]),_:1})]),_:1})]),_:1})]),_:1})):l(w)&&l(w).domains?(r(),k("div",Ft,[s(b,null,{default:e(()=>[(r(!0),k(ee,null,te(l(w).domains,(o,Z)=>(r(),f(d,{key:o.domain.id,cols:"12",md:l(w).domains.length===2?6:l(w).domains.length===3?4:3},{default:e(()=>[s(M,{elevation:"4",class:De([{"border-primary":Z===0},"h-100"])},{default:e(()=>[s(xe,{class:"d-flex align-center justify-space-between"},{default:e(()=>[a("div",null,[n(i(o.domain.name)+" ",1),Z===0?(r(),f(S,{key:0,color:"primary",size:"x-small",class:"ml-2"},{default:e(()=>t[56]||(t[56]=[n(" Baseline ")])),_:1})):y("",!0)])]),_:2},1024),s(N,null,{default:e(()=>[s(be,{density:"compact"},{default:e(()=>[s(I,null,{prepend:e(()=>[s(u,{color:"primary"},{default:e(()=>t[57]||(t[57]=[n("mdi-chart-line")])),_:1})]),append:e(()=>[a("div",Vt,[a("span",jt,i(H(o.metrics.total_requests)),1),o.comparison?(r(),f(S,{key:0,color:l(q)(o.comparison.requests_diff),size:"x-small",variant:"tonal"},{default:e(()=>[s(u,{size:"x-small"},{default:e(()=>[n(i(l(T)(o.comparison.requests_diff)),1)]),_:2},1024),n(" "+i(o.comparison.requests_diff_label),1)]),_:2},1032,["color"])):y("",!0)])]),default:e(()=>[s(G,null,{default:e(()=>t[58]||(t[58]=[n("Total Requests")])),_:1})]),_:2},1024),s($,{class:"my-2"}),s(I,null,{prepend:e(()=>[s(u,{color:"success"},{default:e(()=>t[59]||(t[59]=[n("mdi-check-circle")])),_:1})]),append:e(()=>[a("div",At,[a("span",Tt,i(o.metrics.success_rate.toFixed(1))+"%",1),o.comparison?(r(),f(S,{key:0,color:l(q)(o.comparison.success_diff),size:"x-small",variant:"tonal"},{default:e(()=>[s(u,{size:"x-small"},{default:e(()=>[n(i(l(T)(o.comparison.success_diff)),1)]),_:2},1024),n(" "+i(o.comparison.success_diff_label),1)]),_:2},1032,["color"])):y("",!0)])]),default:e(()=>[s(G,null,{default:e(()=>t[60]||(t[60]=[n("Success Rate")])),_:1})]),_:2},1024),s($,{class:"my-2"}),s(I,null,{prepend:e(()=>[s(u,{color:"info"},{default:e(()=>t[61]||(t[61]=[n("mdi-speedometer")])),_:1})]),append:e(()=>[a("div",Nt,[a("span",Mt,i(o.metrics.avg_speed.toFixed(1))+" Mbps",1),o.comparison?(r(),f(S,{key:0,color:l(q)(o.comparison.speed_diff),size:"x-small",variant:"tonal"},{default:e(()=>[s(u,{size:"x-small"},{default:e(()=>[n(i(l(T)(o.comparison.speed_diff)),1)]),_:2},1024),n(" "+i(o.comparison.speed_diff_label),1)]),_:2},1032,["color"])):y("",!0)])]),default:e(()=>[s(G,null,{default:e(()=>t[62]||(t[62]=[n("Average Speed")])),_:1})]),_:2},1024),o.metrics.unique_providers?(r(),f($,{key:0,class:"my-2"})):y("",!0),o.metrics.unique_providers?(r(),f(I,{key:1},{prepend:e(()=>[s(u,{color:"warning"},{default:e(()=>t[63]||(t[63]=[n("mdi-domain")])),_:1})]),append:e(()=>[a("span",Bt,i(o.metrics.unique_providers),1)]),default:e(()=>[s(G,null,{default:e(()=>t[64]||(t[64]=[n("Unique Providers")])),_:1})]),_:2},1024)):y("",!0),o.metrics.unique_states?(r(),f($,{key:2,class:"my-2"})):y("",!0),o.metrics.unique_states?(r(),f(I,{key:3},{prepend:e(()=>[s(u,{color:"secondary"},{default:e(()=>t[65]||(t[65]=[n("mdi-map-marker")])),_:1})]),append:e(()=>[a("span",$t,i(o.metrics.unique_states),1)]),default:e(()=>[s(G,null,{default:e(()=>t[66]||(t[66]=[n("Unique States")])),_:1})]),_:2},1024)):y("",!0)]),_:2},1024)]),_:2},1024),s(ye,null,{default:e(()=>[s(L,{variant:"text",color:"primary",onClick:Ht=>E(o.domain.id),"prepend-icon":"mdi-chart-box",block:""},{default:e(()=>t[67]||(t[67]=[n(" View Dashboard ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1032,["md"]))),128))]),_:1}),l(w).domains.length>1?(r(),f(b,{key:0,class:"mt-4"},{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[s(se,{title:"Comparison Summary"},{default:e(()=>[s(Y,{type:"info",variant:"tonal",class:"mb-4"},{default:e(()=>[a("div",Lt," Baseline: "+i(l(w).domains[0].domain.name),1),t[68]||(t[68]=a("div",{class:"text-caption"}," All percentages show difference compared to this domain ",-1))]),_:1}),s(ne,null,{default:e(()=>[t[70]||(t[70]=a("thead",null,[a("tr",null,[a("th",{class:"text-left"},"Domain"),a("th",{class:"text-right"},"Total Requests"),a("th",{class:"text-right"},"Success Rate"),a("th",{class:"text-right"},"Avg Speed"),a("th",{class:"text-center"},"Difference")])],-1)),a("tbody",null,[(r(!0),k(ee,null,te(l(w).domains,o=>(r(),k("tr",{key:o.domain.id},[a("td",null,[a("div",Ut,i(o.domain.name),1),a("div",Ot,i(o.domain.slug),1)]),a("td",Pt,i(H(o.metrics.total_requests)),1),a("td",Wt,i(o.metrics.success_rate.toFixed(1))+"%",1),a("td",Et,i(o.metrics.avg_speed.toFixed(1))+" Mbps",1),a("td",Gt,[o.comparison?(r(),k("div",It,[s(S,{color:l(q)(o.comparison.requests_diff),size:"small",variant:"tonal"},{default:e(()=>[s(u,{size:"small"},{default:e(()=>[n(i(l(T)(o.comparison.requests_diff)),1)]),_:2},1024),n(" "+i(o.comparison.requests_diff_label),1)]),_:2},1032,["color"]),s(S,{color:l(q)(o.comparison.success_diff),size:"small",variant:"tonal"},{default:e(()=>[s(u,{size:"small"},{default:e(()=>[n(i(l(T)(o.comparison.success_diff)),1)]),_:2},1024),n(" "+i(o.comparison.success_diff_label),1)]),_:2},1032,["color"]),s(S,{color:l(q)(o.comparison.speed_diff),size:"small",variant:"tonal"},{default:e(()=>[s(u,{size:"small"},{default:e(()=>[n(i(l(T)(o.comparison.speed_diff)),1)]),_:2},1024),n(" "+i(o.comparison.speed_diff_label),1)]),_:2},1032,["color"])])):(r(),f(S,{key:1,size:"small",variant:"outlined"},{default:e(()=>t[69]||(t[69]=[n(" Baseline ")])),_:1}))])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})):y("",!0)])):!l(c)&&!l(m)?(r(),f(b,{key:3},{default:e(()=>[s(d,{cols:"12"},{default:e(()=>[s(C,null,{default:e(()=>[a("div",Kt,[s(u,{size:"80",color:"grey"},{default:e(()=>t[71]||(t[71]=[n("mdi-compare")])),_:1}),t[72]||(t[72]=a("h3",{class:"text-h5 mt-4 mb-2"},"Select domains to compare",-1)),t[73]||(t[73]=a("p",{class:"text-medium-emphasis"}," Choose at least 2 domains from the selector above to see a detailed comparison ",-1))])]),_:1})]),_:1})]),_:1})):y("",!0)])):y("",!0)])}}}),ts=Re(Xt,[["__scopeId","data-v-c4c2c4b2"]]);export{ts as default};
