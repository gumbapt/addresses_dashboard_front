var p=Object.defineProperty;var i=(a,e,r)=>e in a?p(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;var n=(a,e,r)=>i(a,typeof e!="symbol"?e+"":e,r);import{x as d}from"./B3_Rn74p.js";class g{constructor(){n(this,"apiClient");this.apiClient=new d}async getReports(e){try{const r=new URLSearchParams;e!=null&&e.page&&r.append("page",e.page.toString()),e!=null&&e.per_page&&r.append("per_page",e.per_page.toString()),e!=null&&e.domain_id&&r.append("domain_id",e.domain_id.toString()),e!=null&&e.status&&r.append("status",e.status),e!=null&&e.start_date&&r.append("start_date",e.start_date),e!=null&&e.end_date&&r.append("end_date",e.end_date);const s=r.toString(),t=`/reports${s?"?"+s:""}`;return await this.apiClient.get(t)}catch(r){throw console.error("Get reports failed:",r),new Error("Failed to fetch reports")}}async getReport(e){try{return await this.apiClient.get(`/reports/${e}`)}catch(r){throw console.error("Get report failed:",r),new Error("Failed to fetch report")}}async getRecentReports(){try{return await this.apiClient.get("/reports/recent")}catch(e){throw console.error("Get recent reports failed:",e),new Error("Failed to fetch recent reports")}}async getGlobalDomainRanking(e){try{let r="/reports/global/domain-ranking";return e&&(r+=`?sort_by=${e}`),await this.apiClient.get(r)}catch(r){throw console.error("Get global domain ranking failed:",r),new Error("Failed to fetch global domain ranking")}}async compareDomains(e,r,s,t){try{const o=new URLSearchParams;o.append("domains",e.join(",")),r&&o.append("metric",r),s&&o.append("date_from",s),t&&o.append("date_to",t);const c=`/reports/global/comparison?${o.toString()}`;return await this.apiClient.get(c)}catch(o){throw console.error("Compare domains failed:",o),new Error("Failed to compare domains")}}}class h{constructor(){n(this,"reportRepository");this.reportRepository=new g}async getReports(e){try{const r=await this.reportRepository.getReports(e);return{success:r.success,data:r,message:"Reports loaded successfully"}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async getReport(e){try{const r=await this.reportRepository.getReport(e);return{success:r.success,data:r.data,message:"Report loaded successfully"}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async getRecentReports(){try{const e=await this.reportRepository.getRecentReports();return{success:e.success,data:e.data,message:"Recent reports loaded successfully"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async getGlobalDomainRanking(e){try{const r=await this.reportRepository.getGlobalDomainRanking(e);return{success:r.success,data:r.data,message:"Global domain ranking loaded successfully"}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async compareDomains(e,r,s,t){try{const o=await this.reportRepository.compareDomains(e,r,s,t);return{success:o.success,data:o.data,message:"Domain comparison loaded successfully"}}catch(o){return{success:!1,error:o instanceof Error?o.message:"Unknown error"}}}}export{h as R};
