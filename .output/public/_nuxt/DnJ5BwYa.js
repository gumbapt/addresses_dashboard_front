import{_ as N}from"./DeCz2vTS.js";import{d as j,u as F,v as I,l as P,c as y,a as e,w as t,r as u,j as s,t as o,q as a,h as k,g as m,F as B,m as L,b as r}from"./CLheogn9.js";const O={class:"pa-6"},q={key:0,class:"text-center py-4"},G={class:"mt-1"},M={class:"text-caption text-medium-emphasis"},U={class:"text-center py-4"},$={class:"text-h4 mt-2"},H={key:1,class:"text-caption text-medium-emphasis mt-2"},J={key:0,class:"text-center py-4"},K={class:"d-flex align-center"},Q={class:"text-capitalize"},W={class:"d-flex flex-wrap gap-1 mt-1"},X={class:"text-caption text-medium-emphasis mt-1"},et=j({__name:"index",setup(Y){const{user:v}=F(),{roles:A,permissions:b,isSuperAdmin:w}=I(),h=P(()=>{var _;return(_=v.value)!=null&&_.last_login_at?new Date(v.value.last_login_at).toLocaleString("pt-BR",{dateStyle:"medium",timeStyle:"short"}):"Never"}),S=P(()=>{const _={};return b.value.forEach(l=>{const i=l.resource||"Other";_[i]||(_[i]=[]),_[i].push({...l})}),_}),C=P(()=>Object.keys(S.value).sort());return(_,l)=>{const i=u("v-icon"),p=u("v-list-item-title"),c=u("v-list-item-subtitle"),f=u("v-list-item"),x=u("v-chip"),z=u("v-list"),g=u("v-col"),R=u("v-row"),D=u("v-expansion-panel-title"),E=u("v-expansion-panel-text"),T=u("v-expansion-panel"),V=u("v-expansion-panels");return r(),y("div",O,[e(R,null,{default:t(()=>[e(g,{cols:"12"},{default:t(()=>[e(N,{title:"My Profile"},{default:t(()=>[e(R,null,{default:t(()=>[e(g,{cols:"12",md:"6"},{default:t(()=>[e(z,{lines:"two",density:"compact"},{default:t(()=>[e(f,null,{prepend:t(()=>[e(i,{color:"primary",class:"mr-4"},{default:t(()=>l[0]||(l[0]=[s("mdi-account")])),_:1})]),default:t(()=>[e(p,null,{default:t(()=>l[1]||(l[1]=[s("Name")])),_:1}),e(c,null,{default:t(()=>{var n;return[s(o(((n=a(v))==null?void 0:n.name)||"N/A"),1)]}),_:1})]),_:1}),e(f,null,{prepend:t(()=>[e(i,{color:"primary",class:"mr-4"},{default:t(()=>l[2]||(l[2]=[s("mdi-email")])),_:1})]),default:t(()=>[e(p,null,{default:t(()=>l[3]||(l[3]=[s("Email")])),_:1}),e(c,null,{default:t(()=>{var n;return[s(o(((n=a(v))==null?void 0:n.email)||"N/A"),1)]}),_:1})]),_:1}),e(f,null,{prepend:t(()=>[e(i,{color:"primary",class:"mr-4"},{default:t(()=>l[4]||(l[4]=[s("mdi-account-check")])),_:1})]),default:t(()=>[e(p,null,{default:t(()=>l[5]||(l[5]=[s("Status")])),_:1}),e(c,null,{default:t(()=>{var n;return[e(x,{color:(n=a(v))!=null&&n.is_active?"success":"error",size:"small"},{default:t(()=>{var d;return[s(o((d=a(v))!=null&&d.is_active?"Active":"Inactive"),1)]}),_:1},8,["color"])]}),_:1})]),_:1})]),_:1})]),_:1}),e(g,{cols:"12",md:"6"},{default:t(()=>[e(z,{lines:"two",density:"compact"},{default:t(()=>[e(f,null,{prepend:t(()=>[e(i,{color:"primary",class:"mr-4"},{default:t(()=>l[6]||(l[6]=[s("mdi-shield-crown")])),_:1})]),default:t(()=>[e(p,null,{default:t(()=>l[7]||(l[7]=[s("Admin Type")])),_:1}),e(c,null,{default:t(()=>[e(x,{color:a(w)?"warning":"info",size:"small"},{default:t(()=>[s(o(a(w)?"Super Admin":"Admin"),1)]),_:1},8,["color"])]),_:1})]),_:1}),e(f,null,{prepend:t(()=>[e(i,{color:"primary",class:"mr-4"},{default:t(()=>l[8]||(l[8]=[s("mdi-clock-outline")])),_:1})]),default:t(()=>[e(p,null,{default:t(()=>l[9]||(l[9]=[s("Last Login")])),_:1}),e(c,null,{default:t(()=>[s(o(h.value),1)]),_:1})]),_:1}),e(f,null,{prepend:t(()=>[e(i,{color:"primary",class:"mr-4"},{default:t(()=>l[10]||(l[10]=[s("mdi-identifier")])),_:1})]),default:t(()=>[e(p,null,{default:t(()=>l[11]||(l[11]=[s("User ID")])),_:1}),e(c,null,{default:t(()=>{var n;return[s(o(((n=a(v))==null?void 0:n.id)||"N/A"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{cols:"12",md:"6"},{default:t(()=>[e(N,{title:"Roles"},{default:t(()=>[a(A).length===0?(r(),y("div",q,[e(i,{size:"48",color:"grey"},{default:t(()=>l[12]||(l[12]=[s("mdi-shield-off")])),_:1}),l[13]||(l[13]=m("p",{class:"text-body-1 text-medium-emphasis mt-2"},"No roles assigned",-1))])):(r(),k(z,{key:1,lines:"two",density:"compact"},{default:t(()=>[(r(!0),y(B,null,L(a(A),n=>(r(),k(f,{key:n.id},{prepend:t(()=>[e(i,{color:"primary",class:"mr-4"},{default:t(()=>l[14]||(l[14]=[s("mdi-shield-account")])),_:1})]),default:t(()=>[e(p,null,{default:t(()=>[s(o(n.name),1)]),_:2},1024),e(c,null,{default:t(()=>[m("div",G,[e(x,{size:"x-small",class:"mr-1 mb-1"},{default:t(()=>{var d;return[s(o(((d=n.permissions)==null?void 0:d.length)||0)+" permissions ",1)]}),_:2},1024),m("span",M,o(n.description||"No description"),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1}),e(g,{cols:"12",md:"6"},{default:t(()=>[e(N,{title:"Permissions Summary"},{default:t(()=>[m("div",U,[e(i,{size:"48",color:a(w)?"warning":"primary"},{default:t(()=>[s(o(a(w)?"mdi-shield-crown":"mdi-shield-check"),1)]),_:1},8,["color"]),m("p",$,o(a(b).length),1),l[16]||(l[16]=m("p",{class:"text-body-1 text-medium-emphasis"},"Total Permissions",-1)),a(w)?(r(),k(x,{key:0,color:"warning",size:"small",class:"mt-2"},{default:t(()=>l[15]||(l[15]=[s(" Super Admin - All Permissions Granted ")])),_:1})):(r(),y("p",H," Permissions from "+o(a(A).length)+" role(s) ",1))])]),_:1})]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(N,{title:"Permissions by Resource"},{default:t(()=>[a(b).length===0?(r(),y("div",J,[e(i,{size:"48",color:"grey"},{default:t(()=>l[17]||(l[17]=[s("mdi-lock-off")])),_:1}),l[18]||(l[18]=m("p",{class:"text-body-1 text-medium-emphasis mt-2"},"No permissions assigned",-1))])):(r(),k(V,{key:1,variant:"accordion",class:"mt-2"},{default:t(()=>[(r(!0),y(B,null,L(C.value,n=>(r(),k(T,{key:n},{default:t(()=>[e(D,null,{default:t(()=>[m("div",K,[e(i,{color:"primary",class:"mr-2"},{default:t(()=>l[19]||(l[19]=[s("mdi-folder")])),_:1}),m("span",Q,o(n),1),e(x,{size:"x-small",class:"ml-2"},{default:t(()=>[s(o(S.value[n].length),1)]),_:2},1024)])]),_:2},1024),e(E,null,{default:t(()=>[e(z,{density:"compact"},{default:t(()=>[(r(!0),y(B,null,L(S.value[n],d=>(r(),k(f,{key:d.id},{prepend:t(()=>[e(i,{color:d.is_active?"success":"error",size:"small",class:"mr-2"},{default:t(()=>[s(o(d.is_active?"mdi-check-circle":"mdi-close-circle"),1)]),_:2},1032,["color"])]),default:t(()=>[e(p,null,{default:t(()=>[s(o(d.name),1)]),_:2},1024),e(c,null,{default:t(()=>[m("div",W,[e(x,{size:"x-small",variant:"outlined"},{default:t(()=>[s(o(d.action),1)]),_:2},1024),e(x,{size:"x-small",variant:"outlined"},{default:t(()=>[s(o(d.slug),1)]),_:2},1024)]),m("p",X,o(d.description||"No description"),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})]),_:1})])}}});export{et as default};
