import{U as ct}from"./vwmodq-X.js";import{x as pt,e as P,l as te,d as vt,G as Mt,H as ie,o as ft,c as _,a,h as y,i as g,r as D,w as e,q as s,j as r,p as jt,g as o,C as Me,t as n,F as he,m as ze,n as Ue,b as d,_ as _t,s as ke,I as Ot,y as at,z as ot,J as lt,k as Bt,D as Et}from"./AmEn0FOG.js";import{_ as U}from"./btuBwFtU.js";import{_ as mt}from"./DdF__TLh.js";import{u as Nt}from"./CH2ma1JY.js";import{R as gt,u as Wt}from"./DyD9CpYx.js";import{u as It}from"./DdKHjOGv.js";import{u as Yt}from"./jJGlrcqN.js";import{u as Gt}from"./DCRjQPVk.js";class Ht{apiClient;constructor(){this.apiClient=new pt}async getRankings(p){try{const c=new URLSearchParams;p?.provider_id&&c.append("provider_id",p.provider_id.toString()),p?.technology&&c.append("technology",p.technology),p?.period&&c.append("period",p.period),p?.date_from&&c.append("date_from",p.date_from),p?.date_to&&c.append("date_to",p.date_to),p?.sort_by&&c.append("sort_by",p.sort_by),p?.aggregate_by_provider!==void 0&&c.append("aggregate_by_provider",p.aggregate_by_provider?"true":"false"),p?.page&&c.append("page",p.page.toString()),p?.per_page&&c.append("per_page",p.per_page.toString()),p?.limit&&!p?.page&&!p?.per_page&&c.append("limit",p.limit.toString());const L=`/reports/global/provider-ranking${c.toString()?`?${c.toString()}`:""}`;console.log("ðŸ” ProviderRankingRepository - URL:",L);const h=await this.apiClient.get(L);return console.log("ðŸ” ProviderRankingRepository - Response:",h),h}catch(c){throw console.error("ProviderRankingRepository - getRankings error:",c),c}}}class Kt{providerRankingRepository;constructor(){this.providerRankingRepository=new Ht}async getProviderRankings(p){try{console.log("ðŸ” ProviderRankingService - getProviderRankings filters:",p);const c=await this.providerRankingRepository.getRankings(p);return console.log("ðŸ” ProviderRankingService - response:",c),c.success&&c.data?Array.isArray(c.data)?{success:!0,data:{rankings:c.data,totalEntries:c.pagination?.total||c.data.length,filters:c.filters||{},pagination:c.pagination,availableProviders:c.available_providers||[],aggregatedStats:c.aggregated_stats||void 0,globalStats:c.global_stats||void 0}}:{success:!0,data:{rankings:c.data.ranking||[],totalEntries:c.data.total_entries||0,filters:c.data.filters||{},availableProviders:c.available_providers||[],aggregatedStats:c.aggregated_stats||void 0,globalStats:c.global_stats||void 0}}:{success:!1,error:"Failed to fetch provider rankings"}}catch(c){return console.error("ProviderRankingService - getProviderRankings error:",c),{success:!1,error:c instanceof Error?c.message:"Failed to fetch provider rankings"}}}async getTopProviderDomain(p){try{const c=await this.providerRankingRepository.getRankings({provider_id:p,limit:1});if(c.success&&c.data){const L=Array.isArray(c.data)?c.data:c.data.ranking||[];if(L.length>0)return{success:!0,data:L[0]}}return{success:!0,data:null}}catch(c){return console.error("ProviderRankingService - getTopProviderDomain error:",c),{success:!1,error:c instanceof Error?c.message:"Failed to fetch top provider domain"}}}}const yt=()=>{const F=P([]),p=P(0),c=P(null),L=P([]),h=P(null),Y=P(null),R=P({technology:null,provider_id:null,period:"all_time",sort_by:"total_requests",page:1,per_page:15,aggregate_by_provider:!1}),V=P(!1),q=P(null),K=new Kt,x=P("total_requests"),z=te(()=>{let T=F.value.map(C=>({...C,requestsFormatted:C.total_requests.toLocaleString(),domainTotalFormatted:C.domain_total_requests?.toLocaleString()||"-",percentageFormatted:C.percentage_of_domain?.toFixed(1)||"0.0",percentageColor:A(C.percentage_of_domain),successRateFormatted:C.avg_success_rate.toFixed(1),avgSpeedFormatted:C.avg_speed.toFixed(0),successRateColor:C.avg_success_rate>=90?"success":C.avg_success_rate>=70?"warning":"error",techColor:$(C.technology),hasMedal:C.rank<=3,medalEmoji:C.rank===1?"ðŸ¥‡":C.rank===2?"ðŸ¥ˆ":C.rank===3?"ðŸ¥‰":""}));return x.value==="domain_total"?T=T.sort((C,O)=>(O.domain_total_requests||0)-(C.domain_total_requests||0)):x.value==="percentage"?T=T.sort((C,O)=>(O.percentage_of_domain||0)-(C.percentage_of_domain||0)):x.value==="avg_speed"&&(T=T.sort((C,O)=>C.avg_speed-O.avg_speed)),T}),$=T=>T&&{Fiber:"blue",Cable:"green",DSL:"orange",Mobile:"purple",Satellite:"red"}[T]||"grey",A=T=>T?T>=50?"error":T>=25?"warning":T>=10?"info":"success":"grey",re=async T=>{V.value=!0,q.value=null;try{const C=T||R.value,O=await K.getProviderRankings(C);O.success&&O.data?(F.value=O.data.rankings,p.value=O.data.totalEntries,c.value=O.data.pagination||null,L.value=O.data.availableProviders||[],h.value=O.data.aggregatedStats||null,Y.value=O.data.globalStats||null):(q.value=O.error||"Failed to load provider rankings",F.value=[],c.value=null,L.value=[],h.value=null,Y.value=null)}catch(C){q.value=C instanceof Error?C.message:"Unexpected error",F.value=[]}finally{V.value=!1}};return{rankings:F,formattedRankings:z,totalEntries:p,pagination:c,availableProviders:L,aggregatedStats:h,globalStats:Y,filters:R,loading:V,error:q,localSortBy:x,loadProviderRankings:re,getTopProviderDomain:async T=>await K.getTopProviderDomain(T),updateFilters:T=>{R.value={...R.value,...T}},clearFilters:()=>{R.value={technology:null,provider_id:null,period:"all_time",date_from:null,date_to:null,sort_by:"total_requests",page:1,per_page:15,aggregate_by_provider:!1}},goToPage:async T=>{R.value.page=T,await re()},changePerPage:async T=>{R.value.per_page=T,R.value.page=1,await re()},changeLocalSort:T=>{x.value=T}}},Xt={class:"provider-rankings"},Jt={class:"d-flex align-center ga-2"},Qt={class:"text-caption text-medium-emphasis mb-2"},Zt={class:"d-flex flex-wrap ga-4"},ea={class:"text-h4 font-weight-bold"},ta={class:"text-h4 font-weight-bold"},aa={class:"text-h4 font-weight-bold"},oa={class:"text-h4 font-weight-bold"},la={class:"font-weight-bold"},sa={key:0,class:"mr-2"},ra={key:0,class:"d-flex flex-wrap ga-1"},na={key:1,class:"text-medium-emphasis"},ia={class:"font-weight-medium"},da={class:"text-caption text-medium-emphasis"},ua={class:"text-right font-weight-medium"},ma={class:"text-right text-medium-emphasis"},ca={class:"text-center"},pa={class:"text-right"},va={class:"d-flex align-center"},fa={class:"text-caption text-medium-emphasis"},_a={class:"d-flex align-center ga-2"},ga=vt({__name:"ProviderRankingTable",setup(F){const p=Mt(),{formattedRankings:c,totalEntries:L,pagination:h,availableProviders:Y,aggregatedStats:R,globalStats:V,filters:q,loading:K,error:x,localSortBy:z,loadProviderRankings:$,updateFilters:A,clearFilters:re,goToPage:X,changePerPage:J,changeLocalSort:Fe}=yt(),S=P({...q.value,date_from:p.query.provider_date_from||p.query.date_from||null,date_to:p.query.provider_date_to||p.query.date_to||null}),je=te(()=>!Y.value||Y.value.length===0?[]:Y.value.map(f=>({title:`${f.name} (${f.total_requests.toLocaleString()} requests)`,value:f.id}))),Ce=[{title:"ðŸ“… Today",value:"today"},{title:"ðŸ“… Yesterday",value:"yesterday"},{title:"ðŸ“… Last Week",value:"last_week"},{title:"ðŸ“… Last Month",value:"last_month"},{title:"ðŸ“… Last Year",value:"last_year"},{title:"ðŸ“… All Time",value:"all_time"}],T=[{title:"ðŸ”µ Fiber",value:"Fiber"},{title:"ðŸŸ¢ Cable",value:"Cable"},{title:"ðŸŸ¡ DSL",value:"DSL"},{title:"ðŸŸ£ Mobile",value:"Mobile"},{title:"ðŸ”´ Satellite",value:"Satellite"}],C=[{title:"ðŸ“Š Provider Requests",value:"total_requests"},{title:"ðŸ“Š Domain Total",value:"domain_total"},{title:"ðŸ“ˆ % of Domain",value:"percentage"},{title:"âš¡ Avg Speed",value:"avg_speed"}],O=[{title:"15 per page",value:15},{title:"25 per page",value:25},{title:"50 per page",value:50},{title:"100 per page",value:100}],We=()=>{if(!S.value.provider_id)return"";const f=Y.value.find(u=>u.id===S.value.provider_id);return f?f.name:""},Se=()=>{const f={},u=p.query;Object.keys(u).forEach(w=>{!w.startsWith("provider_")&&w!=="date_from"&&w!=="date_to"&&(f[w]=u[w])}),S.value.date_from&&(f.provider_date_from=S.value.date_from),S.value.date_to&&(f.provider_date_to=S.value.date_to),Ue({query:Object.keys(f).length>0?f:{}},{replace:!0})},Ve=f=>{if(!f||f==="all_time")return{date_from:null,date_to:null};const u=new Date;u.setHours(0,0,0,0);let w,E=new Date(u);switch(f){case"today":w=new Date(u),E=new Date(u);break;case"yesterday":w=new Date(u),w.setDate(w.getDate()-1),E=new Date(w);break;case"last_week":w=new Date(u),w.setDate(w.getDate()-6);break;case"last_month":w=new Date(u),w.setDate(w.getDate()-29);break;case"last_year":w=new Date(u),w.setDate(w.getDate()-364);break;default:return{date_from:null,date_to:null}}const N=Z=>{const ce=Z.getFullYear(),ae=String(Z.getMonth()+1).padStart(2,"0"),ge=String(Z.getDate()).padStart(2,"0");return`${ce}-${ae}-${ge}`};return{date_from:N(w),date_to:N(E)}},de=()=>{if(S.value.period){const f=Ve(S.value.period);S.value.date_from=f.date_from,S.value.date_to=f.date_to}S.value.page=1,A(S.value),Se(),$()},we=()=>{(S.value.date_from||S.value.date_to)&&(S.value.period=null),de()},De=f=>{Fe(f)},Ie=()=>{re(),S.value={...q.value},S.value.aggregate_by_provider=!1,S.value.date_from=null,S.value.date_to=null,Fe("total_requests"),Se(),$()},Ye=()=>{h.value&&h.value.current_page>1&&X(h.value.current_page-1)},Ge=()=>{h.value&&h.value.current_page<h.value.last_page&&X(h.value.current_page+1)},Te=f=>{S.value.per_page=f,J(f)},He=f=>f?f.includes(","):!1,Oe=f=>f?f.split(",").map(u=>u.trim()).filter(u=>u.length>0):[],Ke=f=>({Fiber:"blue",Cable:"green",DSL:"orange",Mobile:"purple",Satellite:"red",Unknown:"grey"})[f]||"grey";return ie(()=>p.query,f=>{const u=f.provider_date_from||f.date_from||null,w=f.provider_date_to||f.date_to||null;(u!==S.value.date_from||w!==S.value.date_to)&&(S.value.date_from=u,S.value.date_to=w,A(S.value),$())},{immediate:!1}),ft(()=>{(S.value.date_from||S.value.date_to)&&A(S.value),$()}),(f,u)=>{const w=D("v-icon"),E=D("v-select"),N=D("v-col"),Z=D("v-switch"),ce=D("v-tooltip"),ae=D("v-card"),ge=D("v-btn"),G=D("v-row"),ue=ct,Re=D("v-alert-title"),ne=D("v-chip"),B=D("v-alert"),W=D("v-card-text"),ye=D("v-progress-circular"),M=D("v-card-title"),oe=D("v-table"),le=D("v-card-actions");return d(),_("div",Xt,[a(G,{class:"mb-4"},{default:e(()=>[a(N,{cols:"12",md:"2"},{default:e(()=>[a(E,{modelValue:S.value.provider_id,"onUpdate:modelValue":[u[0]||(u[0]=k=>S.value.provider_id=k),de],items:je.value,label:"Provider",clearable:"",variant:"outlined",density:"compact"},{"prepend-inner":e(()=>[a(w,{size:"small"},{default:e(()=>u[7]||(u[7]=[r("mdi-account-network")])),_:1})]),_:1},8,["modelValue","items"])]),_:1}),a(N,{cols:"12",md:"2"},{default:e(()=>[a(E,{modelValue:S.value.technology,"onUpdate:modelValue":[u[1]||(u[1]=k=>S.value.technology=k),de],items:T,label:"Technology",clearable:"",variant:"outlined",density:"compact"},{"prepend-inner":e(()=>[a(w,{size:"small"},{default:e(()=>u[8]||(u[8]=[r("mdi-network")])),_:1})]),_:1},8,["modelValue"])]),_:1}),a(N,{cols:"12",md:"2"},{default:e(()=>[a(E,{modelValue:S.value.period,"onUpdate:modelValue":[u[2]||(u[2]=k=>S.value.period=k),de],items:Ce,label:"Period",clearable:"",variant:"outlined",density:"compact"},{"prepend-inner":e(()=>[a(w,{size:"small"},{default:e(()=>u[9]||(u[9]=[r("mdi-calendar-range")])),_:1})]),_:1},8,["modelValue"])]),_:1}),a(N,{cols:"12",md:"2"},{default:e(()=>[a(E,{modelValue:s(z),"onUpdate:modelValue":[u[3]||(u[3]=k=>jt(z)?z.value=k:null),De],items:C,label:"Sort By",variant:"outlined",density:"compact"},{"prepend-inner":e(()=>[a(w,{size:"small"},{default:e(()=>u[10]||(u[10]=[r("mdi-sort")])),_:1})]),_:1},8,["modelValue"])]),_:1}),a(N,{cols:"12",md:"2"},{default:e(()=>[a(ae,{variant:"outlined",class:"pa-2"},{default:e(()=>[o("div",Jt,[a(w,{size:"small",color:"primary"},{default:e(()=>u[11]||(u[11]=[r("mdi-group")])),_:1}),a(Z,{modelValue:S.value.aggregate_by_provider,"onUpdate:modelValue":[u[4]||(u[4]=k=>S.value.aggregate_by_provider=k),de],label:"Aggregate by Provider",color:"primary",density:"compact","hide-details":""},null,8,["modelValue"])]),a(ce,{location:"top"},{activator:e(({props:k})=>[a(w,Me(k,{size:"x-small",color:"grey",class:"ml-1"}),{default:e(()=>u[12]||(u[12]=[r(" mdi-information-outline ")])),_:2},1040)]),default:e(()=>[u[13]||(u[13]=o("span",null,"When enabled, aggregates all technologies of the same provider for each domain",-1))]),_:1})]),_:1})]),_:1}),a(N,{cols:"12",md:"2"},{default:e(()=>[a(ge,{block:"",variant:"outlined",color:"grey",onClick:Ie},{default:e(()=>[a(w,{start:""},{default:e(()=>u[14]||(u[14]=[r("mdi-filter-off")])),_:1}),u[15]||(u[15]=r(" Clear Filters "))]),_:1})]),_:1})]),_:1}),a(G,{class:"mb-4"},{default:e(()=>[a(N,{cols:"12"},{default:e(()=>[a(ae,{variant:"outlined",class:"pa-3"},{default:e(()=>[o("div",Qt,[a(w,{size:"small",class:"mr-1"},{default:e(()=>u[16]||(u[16]=[r("mdi-calendar-range")])),_:1}),u[17]||(u[17]=r(" Custom Date Range (Optional) "))]),a(G,null,{default:e(()=>[a(N,{cols:"12",sm:"6",md:"4"},{default:e(()=>[a(ue,{"model-value":S.value.date_from||null,label:"Start Date","prepend-inner-icon":"mdi-calendar-start","onUpdate:modelValue":u[5]||(u[5]=k=>{S.value.date_from=k,we()})},null,8,["model-value"])]),_:1}),a(N,{cols:"12",sm:"6",md:"4"},{default:e(()=>[a(ue,{"model-value":S.value.date_to||null,label:"End Date","prepend-inner-icon":"mdi-calendar-end","onUpdate:modelValue":u[6]||(u[6]=k=>{S.value.date_to=k,we()})},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(V)?(d(),y(G,{key:0,class:"mb-4"},{default:e(()=>[a(N,{cols:"12"},{default:e(()=>[a(B,{color:"primary",variant:"tonal",border:"start",prominent:""},{default:e(()=>[a(Re,{class:"text-h6 mb-2"},{default:e(()=>[a(w,{start:"",size:"small"},{default:e(()=>u[18]||(u[18]=[r("mdi-chart-line")])),_:1}),r(" "+n(We())+" Global Statistics ",1)]),_:1}),o("div",Zt,[o("div",null,[u[19]||(u[19]=o("strong",null,"Provider Requests:",-1)),r(" "+n(s(V).provider_total_requests.toLocaleString()),1)]),o("div",null,[u[20]||(u[20]=o("strong",null,"Global Requests:",-1)),r(" "+n(s(V).global_total_requests.toLocaleString()),1)]),o("div",null,[u[21]||(u[21]=o("strong",null,"Percentage of Global:",-1)),a(ne,{color:"primary",variant:"tonal",size:"small",class:"ml-1"},{default:e(()=>[r(n(s(V).percentage_of_global.toFixed(2))+"% ",1)]),_:1})])])]),_:1})]),_:1})]),_:1})):g("",!0),s(R)?(d(),y(G,{key:1,class:"mb-4"},{default:e(()=>[a(N,{cols:"12",md:"3"},{default:e(()=>[a(ae,{variant:"tonal",color:"primary"},{default:e(()=>[a(W,{class:"text-center"},{default:e(()=>[o("div",ea,n(s(R).total_requests.toLocaleString()),1),u[22]||(u[22]=o("div",{class:"text-caption text-medium-emphasis"},"Total Requests",-1))]),_:1})]),_:1})]),_:1}),a(N,{cols:"12",md:"3"},{default:e(()=>[a(ae,{variant:"tonal",color:"primary"},{default:e(()=>[a(W,{class:"text-center"},{default:e(()=>[o("div",ta,n(s(R).avg_speed.toFixed(0))+" ms ",1),u[23]||(u[23]=o("div",{class:"text-caption text-medium-emphasis"},"Avg Speed",-1))]),_:1})]),_:1})]),_:1}),a(N,{cols:"12",md:"3"},{default:e(()=>[a(ae,{variant:"tonal",color:"primary"},{default:e(()=>[a(W,{class:"text-center"},{default:e(()=>[o("div",aa,n(s(R).unique_domains),1),u[24]||(u[24]=o("div",{class:"text-caption text-medium-emphasis"},"Unique Domains",-1))]),_:1})]),_:1})]),_:1}),a(N,{cols:"12",md:"3"},{default:e(()=>[a(ae,{variant:"tonal",color:"primary"},{default:e(()=>[a(W,{class:"text-center"},{default:e(()=>[o("div",oa,n(s(R).unique_providers),1),u[25]||(u[25]=o("div",{class:"text-caption text-medium-emphasis"},"Unique Providers",-1))]),_:1})]),_:1})]),_:1})]),_:1})):g("",!0),s(K)?(d(),y(B,{key:2,type:"info",variant:"tonal"},{default:e(()=>[a(ye,{indeterminate:"",size:"20",class:"mr-2"}),u[26]||(u[26]=r(" Loading rankings... "))]),_:1})):s(x)?(d(),y(B,{key:3,type:"error",variant:"tonal"},{default:e(()=>[r(n(s(x)),1)]),_:1})):(d(),y(ae,{key:4},{default:e(()=>[a(M,{class:"d-flex align-center justify-space-between"},{default:e(()=>[u[27]||(u[27]=o("span",null,"ðŸ† Provider Rankings",-1)),a(ne,{color:"primary",variant:"tonal"},{default:e(()=>[r(n(s(L))+" entries ",1)]),_:1})]),_:1}),a(oe,{"fixed-header":"",height:"600px"},{default:e(()=>[u[30]||(u[30]=o("thead",null,[o("tr",null,[o("th",{class:"text-left"},"Rank"),o("th",{class:"text-left"},"Provider"),o("th",{class:"text-left"},"Technology"),o("th",{class:"text-left"},"Domain"),o("th",{class:"text-right"},"Provider Requests"),o("th",{class:"text-right"},"Domain Total"),o("th",{class:"text-center"},"% of Domain"),o("th",{class:"text-right"},"Avg Speed")])],-1)),o("tbody",null,[(d(!0),_(he,null,ze(s(c),k=>(d(),_("tr",{key:`${k.domain_id}-${k.provider_id}`},[o("td",la,[k.hasMedal?(d(),_("span",sa,n(k.medalEmoji),1)):g("",!0),r(" #"+n(k.rank),1)]),o("td",null,n(k.provider_name),1),o("td",null,[k.technology?(d(),_("div",ra,[He(k.technology)?(d(),_(he,{key:0},[(d(!0),_(he,null,ze(Oe(k.technology),(Pe,Xe)=>(d(),y(ne,{key:Xe,color:Ke(Pe),variant:"tonal",size:"x-small",class:"mr-1 mb-1"},{default:e(()=>[r(n(Pe.trim()),1)]),_:2},1032,["color"]))),128)),a(ce,{location:"top"},{activator:e(({props:Pe})=>[a(w,Me({ref_for:!0},Pe,{size:"x-small",color:"primary",class:"ml-1"}),{default:e(()=>u[28]||(u[28]=[r(" mdi-information ")])),_:2},1040)]),default:e(()=>[u[29]||(u[29]=o("span",null,"Multiple technologies aggregated",-1))]),_:1})],64)):(d(),y(ne,{key:1,color:k.techColor,variant:"tonal",size:"small"},{default:e(()=>[r(n(k.technology),1)]),_:2},1032,["color"]))])):(d(),_("span",na,"Unknown"))]),o("td",null,[o("div",ia,n(k.domain_name),1),o("div",da,n(k.domain_slug),1)]),o("td",ua,n(k.requestsFormatted),1),o("td",ma,n(k.domainTotalFormatted),1),o("td",ca,[a(ne,{color:k.percentageColor,variant:"tonal",size:"small"},{default:e(()=>[r(n(k.percentageFormatted)+"% ",1)]),_:2},1032,["color"])]),o("td",pa,n(k.avgSpeedFormatted)+" ms",1)]))),128))])]),_:1}),s(h)?(d(),y(le,{key:0,class:"justify-space-between pa-4"},{default:e(()=>[o("div",va,[o("span",fa," Showing "+n(s(h).from)+" to "+n(s(h).to)+" of "+n(s(h).total)+" entries ",1)]),o("div",_a,[a(E,{"model-value":S.value.per_page,items:O,"onUpdate:modelValue":Te,density:"compact",variant:"outlined","hide-details":"",style:{width:"100px"}},null,8,["model-value"]),a(ge,{icon:"mdi-chevron-left",size:"small",variant:"text",disabled:s(h).current_page===1,onClick:Ye},null,8,["disabled"]),a(ne,{variant:"tonal",color:"primary"},{default:e(()=>[r(n(s(h).current_page)+" / "+n(s(h).last_page),1)]),_:1}),a(ge,{icon:"mdi-chevron-right",size:"small",variant:"text",disabled:s(h).current_page===s(h).last_page,onClick:Ge},null,8,["disabled"])])]),_:1})):g("",!0)]),_:1}))])}}}),ya=_t(ga,[["__scopeId","data-v-f7c890bf"]]),ba=()=>{const F=P(null),p=P(!1),c=P(null),L=P("score"),h=new gt,Y=async(x="score")=>{p.value=!0,c.value=null,L.value=x;try{const z=await h.getGlobalDomainRanking(x);z.success&&z.data?F.value=z.data:(c.value=z.error||"Failed to load ranking",F.value=null)}catch{c.value="Unexpected error loading ranking",F.value=null}finally{p.value=!1}},R=te(()=>!F.value?.ranking||!Array.isArray(F.value.ranking)?[]:F.value.ranking.map(x=>({...x,formattedPeriod:`${new Date(x.coverage.period_start).toLocaleDateString()} - ${new Date(x.coverage.period_end).toLocaleDateString()}`,formattedRequests:V(x.metrics.total_requests),formattedSuccessRate:x.metrics.success_rate.toFixed(1)+"%",formattedSpeed:x.metrics.avg_speed>0?x.metrics.avg_speed.toFixed(1)+" Mbps":"N/A",formattedScore:x.metrics.score.toFixed(1)}))),V=x=>x>=1e6?(x/1e6).toFixed(1)+"M":x>=1e3?(x/1e3).toFixed(1)+"K":x.toString(),q=te(()=>R.value.slice(0,3)),K=te(()=>{if(!F.value?.ranking||F.value.ranking.length===0)return{totalDomains:0,totalRequests:0,avgSuccessRate:0,avgSpeed:0};const x=F.value.ranking,z=x.reduce((X,J)=>X+J.metrics.total_requests,0),$=x.reduce((X,J)=>X+J.metrics.success_rate,0)/x.length,A=x.filter(X=>X.metrics.avg_speed>0),re=A.length>0?A.reduce((X,J)=>X+J.metrics.avg_speed,0)/A.length:0;return{totalDomains:x.length,totalRequests:z,avgSuccessRate:$,avgSpeed:re}});return{rankingData:ke(F),loading:ke(p),error:ke(c),currentSortBy:ke(L),formattedRanking:R,topThree:q,globalStats:K,loadRanking:Y}},xa=()=>{const F=P(null),p=P(!1),c=P(null),L=new gt,h=async(q,K,x,z)=>{if(q.length<2){c.value="Please select at least 2 domains to compare";return}p.value=!0,c.value=null;try{const $=await L.compareDomains(q,K,x,z);$.success&&$.data?F.value=$.data:(c.value=$.error||"Failed to load comparison",F.value=null)}catch{c.value="Unexpected error loading comparison",F.value=null}finally{p.value=!1}},Y=q=>q>=1e6?(q/1e6).toFixed(1)+"M":q>=1e3?(q/1e3).toFixed(1)+"K":q.toString(),R=(q,K=!1)=>K?q>0?"error":q<0?"success":"default":q>0?"success":q<0?"error":"default",V=q=>q>0?"mdi-arrow-up":q<0?"mdi-arrow-down":"mdi-minus";return{comparisonData:ke(F),loading:ke(p),error:ke(c),loadComparison:h,formatNumber:Y,getDiffColor:R,getDiffIcon:V}};class ha{apiClient;constructor(){this.apiClient=new pt}async getRankingsByState(p){try{const c=new URLSearchParams;c.append("state_id",p.state_id.toString()),p.provider_id&&c.append("provider_id",p.provider_id.toString()),p.period&&c.append("period",p.period),p.date_from&&c.append("date_from",p.date_from),p.date_to&&c.append("date_to",p.date_to),p.sort_by&&c.append("sort_by",p.sort_by),p.aggregate_by_provider!==void 0&&c.append("aggregate_by_provider",p.aggregate_by_provider?"true":"false");const L=`/reports/global/provider-ranking-by-state?${c.toString()}`;console.log("ðŸ” ProviderRankingByStateRepository - URL:",L);const h=await this.apiClient.get(L);return console.log("ðŸ” ProviderRankingByStateRepository - Response:",h),h}catch(c){throw console.error("ProviderRankingByStateRepository - getRankingsByState error:",c),c}}}const ka=()=>{const F=P([]),p=P(!1),c=P(null),L=P(0),h=P({state_id:0,provider_id:null,period:"last_month",date_from:null,date_to:null,sort_by:"total_requests",aggregate_by_provider:!1}),Y=new ha,R=async z=>{if(!h.value.state_id||h.value.state_id===0){c.value="Please select a state";return}p.value=!0,c.value=null;try{const $={...h.value,...z},A=await Y.getRankingsByState($);A.success&&A.data?(F.value=A.data.ranking||[],L.value=A.data.total_entries||0,h.value={...h.value,...A.data.filters}):(c.value=A.message||"Failed to load ranking data",F.value=[],L.value=0)}catch($){c.value=$ instanceof Error?$.message:"Unexpected error loading ranking",F.value=[],L.value=0}finally{p.value=!1}},V=z=>{h.value={...h.value,...z}},q=()=>{h.value={...h.value,provider_id:null,period:"last_month",date_from:null,date_to:null,sort_by:"total_requests"}},K=te(()=>h.value.aggregate_by_provider===!0),x=te(()=>F.value.map(z=>{const $={...z,formattedRequests:z.total_requests.toLocaleString(),formattedSuccessRate:`${z.avg_success_rate.toFixed(1)}%`,formattedSpeed:`${z.avg_speed.toFixed(2)} Mbps`};if("domain_id"in z&&"percentage_of_domain"in z){const A=z;return{...$,formattedPercentage:`${A.percentage_of_domain.toFixed(2)}%`,formattedProviderTotalRequests:A.provider_total_requests?.toLocaleString()||"0",formattedPercentageOfProvider:A.percentage_of_provider_in_state?`${A.percentage_of_provider_in_state.toFixed(2)}%`:"0%"}}if("percentage_of_state"in z){const A=z;return{...$,formattedPercentage:`${A.percentage_of_state.toFixed(2)}%`,formattedDomains:A.domains||"",domainsCount:A.domains_count||0}}return $}));return{ranking:F,formattedRanking:x,loading:p,error:c,totalEntries:L,filters:h,isAggregatedByProvider:K,loadRankingByState:R,updateFilters:V,clearFilters:q}},Sa={class:"d-flex justify-center align-center py-8"},wa={key:2},Da={key:0},Ra={class:"d-flex align-center justify-space-between mb-2"},Pa={class:"text-h3 font-weight-bold text-primary"},qa={class:"d-flex align-center justify-space-between mb-2"},za={class:"text-h3 font-weight-bold text-success"},Fa={class:"d-flex align-center justify-space-between mb-2"},Ca={class:"text-h3 font-weight-bold text-info"},Va={class:"d-flex align-center justify-space-between mb-2"},Ta={class:"text-h3 font-weight-bold text-warning"},$a={key:1,class:"text-center py-8"},Aa={key:1,class:"text-center py-8"},La={key:1,class:"text-center py-8"},Ua={key:1,class:"text-center py-8"},Ma={class:"text-h6 mt-2"},ja={class:"d-flex justify-space-between mb-2"},Oa={class:"font-weight-bold"},Ba={class:"d-flex justify-space-between mb-2"},Ea={class:"font-weight-bold"},Na={class:"d-flex justify-space-between"},Wa={class:"font-weight-bold"},Ia={class:"text-h5 mt-2"},Ya={class:"d-flex justify-space-between mb-2"},Ga={class:"font-weight-bold text-h6"},Ha={class:"d-flex justify-space-between mb-2"},Ka={class:"font-weight-bold"},Xa={class:"d-flex justify-space-between"},Ja={class:"font-weight-bold"},Qa={class:"text-h6 mt-2"},Za={class:"d-flex justify-space-between mb-2"},eo={class:"font-weight-bold"},to={class:"d-flex justify-space-between mb-2"},ao={class:"font-weight-bold"},oo={class:"d-flex justify-space-between"},lo={class:"font-weight-bold"},so={class:"text-center"},ro={class:"font-weight-medium"},no={class:"text-caption text-medium-emphasis"},io={class:"text-right"},uo={class:"text-right font-weight-medium"},mo={class:"text-right"},co={class:"text-right"},po={class:"text-center"},vo={class:"text-center"},fo={class:"text-center"},_o={class:"text-center"},go={class:"text-caption"},yo={class:"text-caption text-medium-emphasis"},bo={class:"text-center"},xo={key:0,class:"text-center py-8"},ho={key:3},ko={key:4},So={key:0,class:"text-caption"},wo={key:1,class:"text-caption"},Do={class:"text-caption text-medium-emphasis mb-2"},Ro={class:"text-center py-12"},Po={class:"d-flex justify-center align-center py-8"},qo={key:4},zo={class:"d-flex align-center justify-space-between mb-2"},Fo={class:"text-h3 font-weight-bold text-primary"},Co={class:"d-flex align-center justify-space-between mb-2"},Vo={class:"text-h3 font-weight-bold text-success"},To={class:"d-flex align-center justify-space-between mb-2"},$o={class:"text-h3 font-weight-bold text-info"},Ao={class:"d-flex align-center justify-space-between mb-2"},Lo={class:"text-h3 font-weight-bold text-warning"},Uo={key:0},Mo={key:1,class:"text-center py-8"},jo={key:0},Oo={key:1,class:"text-center py-8"},Bo={key:0},Eo={key:1,class:"text-center py-8"},No={key:0},Wo={key:1,class:"text-center py-8"},Io={key:5},Yo={class:"text-caption text-medium-emphasis mb-2"},Go={class:"text-center py-12"},Ho={class:"d-flex justify-center align-center py-8"},Ko={key:0,class:"ml-2"},Xo={key:0,class:"text-left"},Jo={key:1,class:"text-right"},Qo={key:2,class:"text-right"},Zo={key:3,class:"text-right"},el={key:4,class:"text-right"},tl={key:5,class:"text-right"},al={key:0},ol={class:"font-weight-medium"},ll={class:"text-caption text-medium-emphasis"},sl={class:"font-weight-medium"},rl={class:"text-right font-weight-medium"},nl={key:1,class:"text-right"},il={key:2,class:"text-right"},dl={class:"font-weight-medium"},ul={key:3,class:"text-right"},ml={key:4,class:"text-right"},cl={key:5,class:"text-right"},pl={class:"text-right"},vl={class:"text-right"},fl={class:"text-center"},_l={class:"text-center"},gl={class:"text-caption"},yl={class:"text-caption text-medium-emphasis"},bl={class:"text-center"},xl={key:1,class:"text-medium-emphasis text-caption"},hl={class:"text-center py-12"},kl={class:"text-medium-emphasis"},Sl={key:6},wl={class:"d-flex gap-2"},Dl={class:"d-flex justify-center align-center py-8"},Rl={key:2},Pl={class:"d-flex align-center gap-2"},ql={class:"font-weight-bold"},zl={class:"d-flex align-center gap-2"},Fl={class:"font-weight-bold"},Cl={class:"d-flex align-center gap-2"},Vl={class:"font-weight-bold"},Tl={class:"font-weight-bold"},$l={class:"font-weight-bold"},Al={class:"text-h4 font-weight-bold"},Ll={class:"text-h4 font-weight-bold"},Ul={key:0},Ml={class:"text-h6 mb-3"},jl={class:"font-weight-bold"},Ol={class:"font-weight-medium"},Bl={class:"text-right font-weight-medium"},El={class:"text-right"},Nl={class:"text-center"},Wl={class:"text-center py-12"},Il=vt({__name:"index",setup(F){const p=Ot();Nt({title:"Analytics"});const{rankingData:c,loading:L,error:h,currentSortBy:Y,formattedRanking:R,topThree:V,globalStats:q,loadRanking:K}=ba(),{comparisonData:x,loading:z,error:$,loadComparison:A,getDiffColor:re,getDiffIcon:X}=xa(),{domains:J,loadDomains:Fe}=It(),{loadProviderRankings:S}=yt(),{reportData:je,aggregatedData:Ce,loading:T,error:C,loadDashboardStats:O,loadAggregatedStats:We,providerChartData:Se,topStatesChartData:Ve,speedByStateChartData:de,technologyChartData:we,topCards:De}=Yt(),{formattedReports:Ie,loading:Ye,loadReports:Ge}=Wt(),{formattedRanking:Te,loading:He,error:Oe,totalEntries:Ke,filters:f,isAggregatedByProvider:u,loadRankingByState:w,updateFilters:E,clearFilters:N}=ka(),{states:Z,loading:ce,error:ae,fetchStates:ge}=Gt(),G=P("ranking"),ue=P([]),Re=P(""),ne=P(""),B=P(null),W=P("all"),ye=P(!1),M=P(null),oe=P(null),le=P(null),k=P(null),Pe=[{title:"ðŸ“… Today",value:"today"},{title:"ðŸ“… Yesterday",value:"yesterday"},{title:"ðŸ“… Last Week",value:"last_week"},{title:"ðŸ“… Last Month",value:"last_month"},{title:"ðŸ“… Last Year",value:"last_year"},{title:"ðŸ“… All Time",value:"all_time"}],Xe=[{value:"score",label:"Overall Score"},{value:"volume",label:"Total Requests"},{value:"success",label:"Success Rate"},{value:"speed",label:"Average Speed"}],st=te(()=>!J.value||!Array.isArray(J.value)?[]:J.value.map(m=>({value:m.id,title:m.name})));ft(()=>{K("score"),Fe(),S(),p.query.state_date_from&&E({date_from:p.query.state_date_from}),p.query.state_date_to&&E({date_to:p.query.state_date_to}),p.query.domain_dashboard_date_from&&(le.value=p.query.domain_dashboard_date_from),p.query.domain_dashboard_date_to&&(k.value=p.query.domain_dashboard_date_to),p.query.domain_dashboard_period&&(oe.value=p.query.domain_dashboard_period)});const bt=m=>{K(m)},$e=m=>{Ue(`/domains/${m}/dashboard`)},xt=(m,t)=>{Ue(`/domains/${m}/state/${t}/dashboard`)};te(()=>!B.value||!J.value||!Array.isArray(J.value)?null:J.value.find(m=>m.id===B.value));const Je=te(()=>B.value?Ie.value.filter(m=>m.domain_id===B.value):[]),ht=te(()=>[...[{id:"all",reportDate:"All Reports Combined",statusColor:"primary",data_version:"Aggregated"}],...Je.value]);ie(B,async m=>{m&&(await Ge({domain_id:m,per_page:100}),await Be(),W.value="all",ye.value=!1)}),ie([le,k],()=>{B.value&&W.value==="all"&&G.value==="domain-dashboard"&&wt()});const kt=m=>{if(!m||m==="all_time")return{date_from:null,date_to:null};const t=new Date;t.setHours(0,0,0,0);let i,b=new Date(t);switch(m){case"today":i=new Date(t),b=new Date(t);break;case"yesterday":i=new Date(t),i.setDate(i.getDate()-1),b=new Date(i);break;case"last_week":i=new Date(t),i.setDate(i.getDate()-6);break;case"last_month":i=new Date(t),i.setDate(i.getDate()-29);break;case"last_year":i=new Date(t),i.setDate(i.getDate()-364);break;default:return{date_from:null,date_to:null}}const v=ee=>{const Ae=ee.getFullYear(),pe=String(ee.getMonth()+1).padStart(2,"0"),se=String(ee.getDate()).padStart(2,"0");return`${Ae}-${pe}-${se}`};return{date_from:v(i),date_to:v(b)}},rt=()=>{const m={},t=p.query;Object.keys(t).forEach(i=>{!i.startsWith("domain_dashboard_")&&i!=="domain_date_from"&&i!=="domain_date_to"&&i!=="domain_period"&&(m[i]=t[i])}),le.value&&(m.domain_dashboard_date_from=le.value),k.value&&(m.domain_dashboard_date_to=k.value),oe.value&&(m.domain_dashboard_period=oe.value),Ue({query:Object.keys(m).length>0?m:{}},{replace:!0})},St=()=>{if(oe.value){const m=kt(oe.value);le.value=m.date_from,k.value=m.date_to}else le.value=null,k.value=null;rt(),Be()},wt=()=>{le.value||k.value,oe.value=null,rt(),Be()},Be=async()=>{B.value&&(W.value==="all"?(ye.value=!1,await We(B.value,{period:oe.value,date_from:le.value,date_to:k.value})):W.value&&(ye.value=!1,await O(W.value)))};ie(W,async m=>{B.value&&(m==="all"?(ye.value=!1,await Be()):m&&(ye.value=!1,await O(m)))});const nt=te(()=>{if(W.value==="all"&&Ce.value)return`Showing aggregated data from ${Je.value.length} report(s)`;const m=Je.value.find(t=>t.id===W.value);return m&&W.value!=="all"?`Report Date: ${m.reportDate} | Status: ${m.statusLabel}`:""}),Dt=()=>{ue.value.length<2||(A(ue.value,void 0,Re.value||void 0,ne.value||void 0),G.value="comparison")},Rt=()=>{ue.value=[],Re.value="",ne.value=""},Ee=m=>m>=1e6?(m/1e6).toFixed(1)+"M":m>=1e3?(m/1e3).toFixed(1)+"K":m.toString(),Pt=m=>m.toFixed(1)+"%",qt=m=>m.toFixed(2),zt=te(()=>!Z.value||!Array.isArray(Z.value)?[]:Z.value.map(m=>({value:m.id,title:`${m.name} (${m.code})`}))),Qe=m=>{if(!m||!Z.value||!Array.isArray(Z.value))return"";const t=Z.value.find(i=>i.id===m);return t?`${t.name} (${t.code})`:""};ie(G,async m=>{m==="state-ranking"&&Z.value.length===0&&!ce.value&&await ge()}),ie(M,async m=>{m&&(E({state_id:m}),await w())});const Ft=m=>{if(!m||m==="all_time")return{date_from:null,date_to:null};const t=new Date;t.setHours(0,0,0,0);let i,b=new Date(t);switch(m){case"today":i=new Date(t),b=new Date(t);break;case"yesterday":i=new Date(t),i.setDate(i.getDate()-1),b=new Date(i);break;case"last_week":i=new Date(t),i.setDate(i.getDate()-6);break;case"last_month":i=new Date(t),i.setDate(i.getDate()-29);break;case"last_year":i=new Date(t),i.setDate(i.getDate()-364);break;default:return{date_from:null,date_to:null}}const v=ee=>{const Ae=ee.getFullYear(),pe=String(ee.getMonth()+1).padStart(2,"0"),se=String(ee.getDate()).padStart(2,"0");return`${Ae}-${pe}-${se}`};return{date_from:v(i),date_to:v(b)}},qe=P(!1);ie(()=>f.value.period,async(m,t)=>{if(!(!M.value||qe.value)&&m!==t){qe.value=!0;try{if(m){const i=Ft(m);E({date_from:i.date_from,date_to:i.date_to})}else E({date_from:null,date_to:null});await lt(),Ze(),await w()}finally{setTimeout(()=>{qe.value=!1},100)}}}),ie(()=>f.value.sort_by,async()=>{M.value&&await w()}),ie(()=>f.value.provider_id,async()=>{M.value&&await w()}),ie(()=>f.value.aggregate_by_provider,async()=>{M.value&&await w()});const it=async()=>{if(!(!M.value||qe.value)){qe.value=!0;try{const m=f.value.period;f.value.date_from||f.value.date_to?m&&E({period:null}):m&&E({period:null}),Ze(),await w()}finally{setTimeout(()=>{qe.value=!1},100)}}},Ze=()=>{const m={},t=p.query;Object.keys(t).forEach(v=>{!v.startsWith("state_")&&v!=="state_date_from"&&v!=="state_date_to"&&(m[v]=t[v])}),f.value.date_from&&(m.state_date_from=f.value.date_from),f.value.date_to&&(m.state_date_to=f.value.date_to);const i=t.state_date_from,b=t.state_date_to;(m.state_date_from!==i||m.state_date_to!==b)&&Ue({query:Object.keys(m).length>0?m:{}},{replace:!0})},Ct=m=>m===1?"warning":m===2?"grey":m===3?"orange":"default",Vt=m=>m<=3?"mdi-medal":"mdi-numeric-"+m+"-circle",Tt=m=>m&&{Fiber:"blue",Cable:"green",DSL:"orange",Mobile:"purple",Satellite:"red"}[m]||"grey";return(m,t)=>{const i=D("v-col"),b=D("v-row"),v=D("v-icon"),ee=D("v-tab"),Ae=D("v-tabs"),pe=D("v-progress-circular"),se=D("v-alert"),ve=D("v-select"),Q=D("v-card-text"),I=D("v-card"),fe=D("apexchart"),be=D("v-divider"),me=D("v-btn"),j=D("v-chip"),et=D("v-table"),xe=D("v-list-item-title"),_e=D("v-list-item"),Ne=ct,tt=D("v-tooltip"),$t=D("v-switch"),dt=D("v-text-field"),At=D("v-form"),ut=D("v-card-title"),Lt=D("v-list"),Ut=D("v-card-actions");return d(),_("div",null,[a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>t[19]||(t[19]=[o("h1",{class:"text-h4 font-weight-bold"},"Analytics",-1),o("p",{class:"text-body-1 text-medium-emphasis"}," Global Address Search Analytics ",-1)])),_:1})]),_:1}),a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(Ae,{modelValue:G.value,"onUpdate:modelValue":t[0]||(t[0]=l=>G.value=l),color:"primary"},{default:e(()=>[a(ee,{value:"ranking"},{default:e(()=>[a(v,{class:"mr-2"},{default:e(()=>t[20]||(t[20]=[r("mdi-trophy")])),_:1}),t[21]||(t[21]=r(" Domain Ranking "))]),_:1}),a(ee,{value:"provider-ranking"},{default:e(()=>[a(v,{class:"mr-2"},{default:e(()=>t[22]||(t[22]=[r("mdi-account-network")])),_:1}),t[23]||(t[23]=r(" Provider Rankings "))]),_:1}),a(ee,{value:"domain-dashboard"},{default:e(()=>[a(v,{class:"mr-2"},{default:e(()=>t[24]||(t[24]=[r("mdi-chart-box")])),_:1}),t[25]||(t[25]=r(" Domain Dashboard "))]),_:1}),a(ee,{value:"state-ranking"},{default:e(()=>[a(v,{class:"mr-2"},{default:e(()=>t[26]||(t[26]=[r("mdi-map-marker")])),_:1}),t[27]||(t[27]=r(" State Ranking "))]),_:1}),a(ee,{value:"comparison"},{default:e(()=>[a(v,{class:"mr-2"},{default:e(()=>t[28]||(t[28]=[r("mdi-compare")])),_:1}),t[29]||(t[29]=r(" Compare Domains "))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),s(L)?(d(),y(b,{key:0},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[o("div",Sa,[a(pe,{indeterminate:"",color:"primary",size:"64"})])]),_:1})]),_:1})]),_:1})):s(h)?(d(),y(b,{key:1},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[a(se,{type:"error",variant:"tonal",class:"mb-0"},{default:e(()=>[r(n(s(h)),1)]),_:1})]),_:1})]),_:1})]),_:1})):g("",!0),G.value==="ranking"?(d(),_("div",wa,[a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12",class:"d-flex justify-end"},{default:e(()=>[a(ve,{"model-value":s(Y),"onUpdate:modelValue":bt,items:Xe,"item-title":"label","item-value":"value",label:"Sort By",variant:"outlined",density:"compact","hide-details":"",style:{width:"200px"},"prepend-inner-icon":"mdi-sort"},null,8,["model-value"])]),_:1})]),_:1}),s(c)?(d(),_("div",Da,[a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12",sm:"6",md:"3"},{default:e(()=>[a(I,{elevation:"2",class:"h-100"},{default:e(()=>[a(Q,null,{default:e(()=>[o("div",Ra,[t[31]||(t[31]=o("div",{class:"text-h6 text-medium-emphasis"},"Total Domains",-1)),a(v,{color:"primary",size:"32"},{default:e(()=>t[30]||(t[30]=[r("mdi-domain")])),_:1})]),o("div",Pa,n(s(q).totalDomains),1),t[32]||(t[32]=o("div",{class:"text-caption text-medium-emphasis mt-1"}," Active domains ",-1))]),_:1})]),_:1})]),_:1}),a(i,{cols:"12",sm:"6",md:"3"},{default:e(()=>[a(I,{elevation:"2",class:"h-100"},{default:e(()=>[a(Q,null,{default:e(()=>[o("div",qa,[t[34]||(t[34]=o("div",{class:"text-h6 text-medium-emphasis"},"Total Requests",-1)),a(v,{color:"success",size:"32"},{default:e(()=>t[33]||(t[33]=[r("mdi-chart-line")])),_:1})]),o("div",za,n(Ee(s(q).totalRequests)),1),t[35]||(t[35]=o("div",{class:"text-caption text-medium-emphasis mt-1"}," Across all domains ",-1))]),_:1})]),_:1})]),_:1}),a(i,{cols:"12",sm:"6",md:"3"},{default:e(()=>[a(I,{elevation:"2",class:"h-100"},{default:e(()=>[a(Q,null,{default:e(()=>[o("div",Fa,[t[37]||(t[37]=o("div",{class:"text-h6 text-medium-emphasis"},"Avg Success Rate",-1)),a(v,{color:"info",size:"32"},{default:e(()=>t[36]||(t[36]=[r("mdi-check-circle")])),_:1})]),o("div",Ca,n(s(q).avgSuccessRate.toFixed(1))+"% ",1),t[38]||(t[38]=o("div",{class:"text-caption text-medium-emphasis mt-1"}," Average across domains ",-1))]),_:1})]),_:1})]),_:1}),a(i,{cols:"12",sm:"6",md:"3"},{default:e(()=>[a(I,{elevation:"2",class:"h-100"},{default:e(()=>[a(Q,null,{default:e(()=>[o("div",Va,[t[40]||(t[40]=o("div",{class:"text-h6 text-medium-emphasis"},"Avg Speed",-1)),a(v,{color:"warning",size:"32"},{default:e(()=>t[39]||(t[39]=[r("mdi-speedometer")])),_:1})]),o("div",Ta,n(s(q).avgSpeed>0?s(q).avgSpeed.toFixed(1):"N/A"),1),t[41]||(t[41]=o("div",{class:"text-caption text-medium-emphasis mt-1"}," Mbps average ",-1))]),_:1})]),_:1})]),_:1})]),_:1}),a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12",md:"6"},{default:e(()=>[a(U,null,{default:e(()=>[s(R).length>0?(d(),y(fe,{key:0,type:"bar",height:"300",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Top Domains by Volume",align:"left",style:{fontSize:"16px",fontWeight:600}},plotOptions:{bar:{horizontal:!0,borderRadius:4,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(l){return Ee(l)},offsetX:30},xaxis:{categories:s(R).slice(0,5).map(l=>l.domain.name)},colors:["#1976d2"]},series:[{name:"Requests",data:s(R).slice(0,5).map(l=>l.metrics.total_requests)}]},null,8,["options","series"])):(d(),_("div",$a,[a(v,{size:"64",color:"grey"},{default:e(()=>t[42]||(t[42]=[r("mdi-chart-bar")])),_:1}),t[43]||(t[43]=o("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No data available",-1))]))]),_:1})]),_:1}),a(i,{cols:"12",md:"6"},{default:e(()=>[a(U,null,{default:e(()=>[s(R).length>0?(d(),y(fe,{key:0,type:"donut",height:"300",options:{chart:{type:"donut",fontFamily:"inherit"},title:{text:"Success Rate Distribution",align:"left",style:{fontSize:"16px",fontWeight:600}},labels:["Excellent (â‰¥95%)","Good (90-95%)","Fair (80-90%)","Poor (<80%)"],colors:["#4caf50","#8bc34a","#ffc107","#f44336"],legend:{position:"bottom"},dataLabels:{enabled:!0,formatter:function(l){return l.toFixed(0)+"%"}}},series:[s(R).filter(l=>l.metrics.success_rate>=95).length,s(R).filter(l=>l.metrics.success_rate>=90&&l.metrics.success_rate<95).length,s(R).filter(l=>l.metrics.success_rate>=80&&l.metrics.success_rate<90).length,s(R).filter(l=>l.metrics.success_rate<80).length]},null,8,["options","series"])):(d(),_("div",Aa,[a(v,{size:"64",color:"grey"},{default:e(()=>t[44]||(t[44]=[r("mdi-chart-donut")])),_:1}),t[45]||(t[45]=o("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No data available",-1))]))]),_:1})]),_:1})]),_:1}),a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12",md:"6"},{default:e(()=>[a(U,null,{default:e(()=>[s(R).length>0?(d(),y(fe,{key:0,type:"bar",height:"300",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Reports per Domain",align:"left",style:{fontSize:"16px",fontWeight:600}},plotOptions:{bar:{borderRadius:4,columnWidth:"60%"}},dataLabels:{enabled:!1},xaxis:{categories:s(R).map(l=>l.domain.name),labels:{rotate:-45,style:{fontSize:"11px"}}},yaxis:{title:{text:"Number of Reports"}},colors:["#ff9800"]},series:[{name:"Reports",data:s(R).map(l=>l.coverage.total_reports)}]},null,8,["options","series"])):(d(),_("div",La,[a(v,{size:"64",color:"grey"},{default:e(()=>t[46]||(t[46]=[r("mdi-chart-bar")])),_:1}),t[47]||(t[47]=o("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No data available",-1))]))]),_:1})]),_:1}),a(i,{cols:"12",md:"6"},{default:e(()=>[a(U,null,{default:e(()=>[s(R).filter(l=>l.metrics.avg_speed>0).length>0?(d(),y(fe,{key:0,type:"bar",height:"300",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Average Speed by Domain",align:"left",style:{fontSize:"16px",fontWeight:600}},plotOptions:{bar:{borderRadius:4,columnWidth:"60%"}},dataLabels:{enabled:!0,formatter:function(l){return l.toFixed(0)+" Mbps"}},xaxis:{categories:s(R).filter(l=>l.metrics.avg_speed>0).map(l=>l.domain.name),labels:{rotate:-45,style:{fontSize:"11px"}}},yaxis:{title:{text:"Speed (Mbps)"}},colors:["#9c27b0"]},series:[{name:"Avg Speed",data:s(R).filter(l=>l.metrics.avg_speed>0).map(l=>l.metrics.avg_speed)}]},null,8,["options","series"])):(d(),_("div",Ua,[a(v,{size:"64",color:"grey"},{default:e(()=>t[48]||(t[48]=[r("mdi-speedometer")])),_:1}),t[49]||(t[49]=o("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No speed data available",-1))]))]),_:1})]),_:1})]),_:1}),s(V).length>=3?(d(),y(b,{key:0,class:"mb-4"},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,{title:"ðŸ† Top 3 Domains"},{default:e(()=>[a(b,null,{default:e(()=>[a(i,{cols:"12",md:"4",class:"order-md-1"},{default:e(()=>[a(I,{elevation:"4",class:"h-100",color:"grey-lighten-4"},{default:e(()=>[a(Q,{class:"text-center"},{default:e(()=>[a(v,{size:"48",color:"grey"},{default:e(()=>t[50]||(t[50]=[r("mdi-medal")])),_:1}),t[55]||(t[55]=o("div",{class:"text-h5 font-weight-bold mt-2"},"#2",-1)),o("div",Ma,n(s(V)[1].domain.name),1),a(be,{class:"my-3"}),o("div",ja,[t[51]||(t[51]=o("span",{class:"text-caption"},"Score:",-1)),o("span",Oa,n(s(V)[1].formattedScore),1)]),o("div",Ba,[t[52]||(t[52]=o("span",{class:"text-caption"},"Requests:",-1)),o("span",Ea,n(s(V)[1].formattedRequests),1)]),o("div",Na,[t[53]||(t[53]=o("span",{class:"text-caption"},"Success:",-1)),o("span",Wa,n(s(V)[1].formattedSuccessRate),1)]),a(me,{color:"primary",variant:"tonal",size:"small",class:"mt-3",onClick:t[1]||(t[1]=l=>$e(s(V)[1].domain.id))},{default:e(()=>t[54]||(t[54]=[r(" View Dashboard ")])),_:1})]),_:1})]),_:1})]),_:1}),a(i,{cols:"12",md:"4",class:"order-md-0"},{default:e(()=>[a(I,{elevation:"8",class:"h-100",color:"warning-lighten-4"},{default:e(()=>[a(Q,{class:"text-center"},{default:e(()=>[a(v,{size:"64",color:"warning"},{default:e(()=>t[56]||(t[56]=[r("mdi-trophy")])),_:1}),t[61]||(t[61]=o("div",{class:"text-h4 font-weight-bold mt-2"},"ðŸ‘‘ #1",-1)),o("div",Ia,n(s(V)[0].domain.name),1),a(be,{class:"my-3"}),o("div",Ya,[t[57]||(t[57]=o("span",{class:"text-caption"},"Score:",-1)),o("span",Ga,n(s(V)[0].formattedScore),1)]),o("div",Ha,[t[58]||(t[58]=o("span",{class:"text-caption"},"Requests:",-1)),o("span",Ka,n(s(V)[0].formattedRequests),1)]),o("div",Xa,[t[59]||(t[59]=o("span",{class:"text-caption"},"Success:",-1)),o("span",Ja,n(s(V)[0].formattedSuccessRate),1)]),a(me,{color:"warning",variant:"flat",size:"small",class:"mt-3",onClick:t[2]||(t[2]=l=>$e(s(V)[0].domain.id))},{default:e(()=>t[60]||(t[60]=[r(" View Dashboard ")])),_:1})]),_:1})]),_:1})]),_:1}),a(i,{cols:"12",md:"4",class:"order-md-2"},{default:e(()=>[a(I,{elevation:"4",class:"h-100",color:"orange-lighten-4"},{default:e(()=>[a(Q,{class:"text-center"},{default:e(()=>[a(v,{size:"48",color:"orange"},{default:e(()=>t[62]||(t[62]=[r("mdi-medal")])),_:1}),t[67]||(t[67]=o("div",{class:"text-h5 font-weight-bold mt-2"},"#3",-1)),o("div",Qa,n(s(V)[2].domain.name),1),a(be,{class:"my-3"}),o("div",Za,[t[63]||(t[63]=o("span",{class:"text-caption"},"Score:",-1)),o("span",eo,n(s(V)[2].formattedScore),1)]),o("div",to,[t[64]||(t[64]=o("span",{class:"text-caption"},"Requests:",-1)),o("span",ao,n(s(V)[2].formattedRequests),1)]),o("div",oo,[t[65]||(t[65]=o("span",{class:"text-caption"},"Success:",-1)),o("span",lo,n(s(V)[2].formattedSuccessRate),1)]),a(me,{color:"primary",variant:"tonal",size:"small",class:"mt-3",onClick:t[3]||(t[3]=l=>$e(s(V)[2].domain.id))},{default:e(()=>t[66]||(t[66]=[r(" View Dashboard ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):g("",!0),a(b,null,{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(mt,{title:"Complete Ranking"},{default:e(()=>[a(et,{"fixed-header":"",height:"600px"},{default:e(()=>[t[69]||(t[69]=o("thead",null,[o("tr",null,[o("th",{class:"text-center",style:{width:"80px"}},"Rank"),o("th",{class:"text-left"},"Domain"),o("th",{class:"text-right"},"Score"),o("th",{class:"text-right"},"Total Requests"),o("th",{class:"text-right"},"Success Rate"),o("th",{class:"text-right"},"Avg Speed"),o("th",{class:"text-center"},"Providers"),o("th",{class:"text-center"},"States"),o("th",{class:"text-center"},"Reports"),o("th",{class:"text-center"},"Period"),o("th",{class:"text-center"},"Actions")])],-1)),o("tbody",null,[(d(!0),_(he,null,ze(s(R),l=>(d(),_("tr",{key:l.domain.id},[o("td",so,[a(j,{color:Ct(l.rank),variant:"flat",size:"small"},{default:e(()=>[l.rank<=3?(d(),y(v,{key:0,size:"small",class:"mr-1"},{default:e(()=>[r(n(Vt(l.rank)),1)]),_:2},1024)):g("",!0),r(" "+n(l.rank),1)]),_:2},1032,["color"])]),o("td",null,[o("div",ro,n(l.domain.name),1),o("div",no,n(l.domain.slug),1)]),o("td",io,[a(j,{color:"primary",variant:"tonal",size:"small"},{default:e(()=>[r(n(l.formattedScore),1)]),_:2},1024)]),o("td",uo,n(l.formattedRequests),1),o("td",mo,[a(j,{color:l.metrics.success_rate>=90?"success":l.metrics.success_rate>=70?"warning":"error",variant:"tonal",size:"small"},{default:e(()=>[r(n(l.formattedSuccessRate),1)]),_:2},1032,["color"])]),o("td",co,n(l.formattedSpeed),1),o("td",po,[a(j,{size:"small",variant:"outlined"},{default:e(()=>[r(n(l.metrics.unique_providers),1)]),_:2},1024)]),o("td",vo,[a(j,{size:"small",variant:"outlined"},{default:e(()=>[r(n(l.metrics.unique_states),1)]),_:2},1024)]),o("td",fo,n(l.coverage.total_reports),1),o("td",_o,[o("div",go,n(l.formattedPeriod),1),o("div",yo,n(l.coverage.days_covered)+" days",1)]),o("td",bo,[a(me,{icon:"",size:"small",variant:"text",color:"primary",onClick:H=>$e(l.domain.id),title:"View Dashboard"},{default:e(()=>[a(v,null,{default:e(()=>t[68]||(t[68]=[r("mdi-chart-box")])),_:1})]),_:2},1032,["onClick"])])]))),128))])]),_:1}),s(R).length===0?(d(),_("div",xo,[a(v,{size:"64",color:"grey"},{default:e(()=>t[70]||(t[70]=[r("mdi-chart-box-outline")])),_:1}),t[71]||(t[71]=o("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No ranking data available",-1))])):g("",!0)]),_:1})]),_:1})]),_:1})])):g("",!0)])):g("",!0),G.value==="provider-ranking"?(d(),_("div",ho,[a(ya)])):g("",!0),G.value==="domain-dashboard"?(d(),_("div",ko,[a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[a(b,null,{default:e(()=>[a(i,{cols:"12",md:"6"},{default:e(()=>[a(ve,{modelValue:B.value,"onUpdate:modelValue":t[4]||(t[4]=l=>B.value=l),items:st.value,label:"Select Domain",variant:"outlined","prepend-inner-icon":"mdi-domain",hint:"Choose a domain to view its detailed dashboard","persistent-hint":"",clearable:""},{item:e(({props:l,item:H})=>[a(_e,at(ot(l)),{prepend:e(()=>[a(v,{color:"primary"},{default:e(()=>t[72]||(t[72]=[r("mdi-domain")])),_:1})]),default:e(()=>[a(xe,null,{default:e(()=>[r(n(H.raw.title),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","items"])]),_:1}),B.value?(d(),y(i,{key:0,cols:"12",md:"6"},{default:e(()=>[a(ve,{modelValue:W.value,"onUpdate:modelValue":t[5]||(t[5]=l=>W.value=l),items:ht.value,"item-title":"reportDate","item-value":"id",label:"Select Report",variant:"outlined",density:"compact",loading:s(Ye),"prepend-inner-icon":"mdi-calendar"},{item:e(({props:l,item:H})=>[a(_e,at(ot(l)),{prepend:e(()=>[a(j,{color:H.raw.statusColor,size:"x-small",variant:"tonal"},null,8,["color"])]),subtitle:e(()=>[H.raw.id!=="all"?(d(),_("span",So,"ID: "+n(H.raw.id)+" | Version: "+n(H.raw.data_version),1)):(d(),_("span",wo,"Combined data from all reports"))]),_:2},1040)]),_:1},8,["modelValue","items","loading"])]),_:1})):g("",!0)]),_:1}),B.value&&nt.value?(d(),y(b,{key:0},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(se,{color:"info",variant:"tonal",density:"compact"},{default:e(()=>[a(v,{start:""},{default:e(()=>t[73]||(t[73]=[r("mdi-information")])),_:1}),r(" "+n(nt.value),1)]),_:1})]),_:1})]),_:1})):g("",!0)]),_:1})]),_:1})]),_:1}),B.value&&W.value==="all"?(d(),y(b,{key:0,class:"mb-4"},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(I,{variant:"outlined",class:"pa-3"},{default:e(()=>[o("div",Do,[a(v,{size:"small",class:"mr-1"},{default:e(()=>t[74]||(t[74]=[r("mdi-filter")])),_:1}),t[75]||(t[75]=r(" Filter by Period or Date Range "))]),a(b,null,{default:e(()=>[a(i,{cols:"12",md:"3"},{default:e(()=>[a(ve,{modelValue:oe.value,"onUpdate:modelValue":[t[6]||(t[6]=l=>oe.value=l),St],items:Pe,label:"Period",clearable:"",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-calendar-range"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",sm:"6",md:"4"},{default:e(()=>[a(Ne,{modelValue:le.value,"onUpdate:modelValue":t[7]||(t[7]=l=>le.value=l),label:"Start Date","prepend-inner-icon":"mdi-calendar-start"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",sm:"6",md:"4"},{default:e(()=>[a(Ne,{modelValue:k.value,"onUpdate:modelValue":t[8]||(t[8]=l=>k.value=l),label:"End Date","prepend-inner-icon":"mdi-calendar-end"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):g("",!0),B.value?s(T)?(d(),y(b,{key:2},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[o("div",Po,[a(pe,{indeterminate:"",color:"primary",size:"64"})])]),_:1})]),_:1})]),_:1})):s(C)?(d(),y(b,{key:3},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[a(se,{type:"error",variant:"tonal",class:"mb-0"},{default:e(()=>[r(n(s(C)),1)]),_:1})]),_:1})]),_:1})]),_:1})):B.value&&(s(je)||s(Ce))?(d(),_("div",qo,[a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12",sm:"6",md:"3"},{default:e(()=>[a(I,{elevation:"2",class:"h-100"},{default:e(()=>[a(Q,null,{default:e(()=>[o("div",zo,[t[80]||(t[80]=o("div",{class:"text-h6 text-medium-emphasis"},"Total Requests",-1)),a(v,{color:"primary",size:"32"},{default:e(()=>t[79]||(t[79]=[r("mdi-chart-line")])),_:1})]),o("div",Fo,n(Ee(s(De).totalRequests)),1),t[81]||(t[81]=o("div",{class:"text-caption text-medium-emphasis mt-1"}," All time requests ",-1))]),_:1})]),_:1})]),_:1}),a(i,{cols:"12",sm:"6",md:"3"},{default:e(()=>[a(I,{elevation:"2",class:"h-100"},{default:e(()=>[a(Q,null,{default:e(()=>[o("div",Co,[t[83]||(t[83]=o("div",{class:"text-h6 text-medium-emphasis"},"Success Rate",-1)),a(v,{color:"success",size:"32"},{default:e(()=>t[82]||(t[82]=[r("mdi-check-circle")])),_:1})]),o("div",Vo,n(Pt(s(De).successRate)),1),t[84]||(t[84]=o("div",{class:"text-caption text-medium-emphasis mt-1"}," Successful requests ",-1))]),_:1})]),_:1})]),_:1}),a(i,{cols:"12",sm:"6",md:"3"},{default:e(()=>[a(I,{elevation:"2",class:"h-100"},{default:e(()=>[a(Q,null,{default:e(()=>[o("div",To,[t[86]||(t[86]=o("div",{class:"text-h6 text-medium-emphasis"},"Daily Average",-1)),a(v,{color:"info",size:"32"},{default:e(()=>t[85]||(t[85]=[r("mdi-calendar-today")])),_:1})]),o("div",$o,n(qt(s(De).dailyAverage)),1),t[87]||(t[87]=o("div",{class:"text-caption text-medium-emphasis mt-1"}," Average per day ",-1))]),_:1})]),_:1})]),_:1}),a(i,{cols:"12",sm:"6",md:"3"},{default:e(()=>[a(I,{elevation:"2",class:"h-100"},{default:e(()=>[a(Q,null,{default:e(()=>[o("div",Ao,[t[89]||(t[89]=o("div",{class:"text-h6 text-medium-emphasis"},"Unique Providers",-1)),a(v,{color:"warning",size:"32"},{default:e(()=>t[88]||(t[88]=[r("mdi-domain")])),_:1})]),o("div",Lo,n(s(De).uniqueProviders),1),t[90]||(t[90]=o("div",{class:"text-caption text-medium-emphasis mt-1"}," Different providers ",-1))]),_:1})]),_:1})]),_:1})]),_:1}),a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12",md:"6"},{default:e(()=>[a(U,null,{default:e(()=>[s(Se).series.length>0?(d(),_("div",Uo,[a(fe,{type:"donut",height:"350",options:{chart:{type:"donut",fontFamily:"inherit",height:350},title:{text:"Provider Distribution",align:"left",style:{fontSize:"18px",fontWeight:600}},labels:s(Se).labels,responsive:[{breakpoint:480,options:{chart:{width:300},legend:{position:"bottom"}}}],plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0,label:"Total",fontSize:"20px",fontWeight:600}}}}},legend:{position:"bottom"},dataLabels:{enabled:!0,formatter:function(l){return l.toFixed(1)+"%"}}},series:s(Se).series},null,8,["options","series"])])):(d(),_("div",Mo,[a(v,{size:"64",color:"grey"},{default:e(()=>t[91]||(t[91]=[r("mdi-chart-donut")])),_:1}),t[92]||(t[92]=o("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No provider data available",-1))]))]),_:1})]),_:1}),a(i,{cols:"12",md:"6"},{default:e(()=>[a(U,null,{default:e(()=>[s(Ve).data.length>0?(d(),_("div",jo,[a(fe,{type:"bar",height:"350",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Top States by Requests",align:"left",style:{fontSize:"18px",fontWeight:600}},plotOptions:{bar:{horizontal:!0,borderRadius:4,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(l){return l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(1)+"K":l.toString()},offsetX:30},xaxis:{categories:s(Ve).categories},colors:["#1976d2"]},series:[{name:"Requests",data:s(Ve).data}]},null,8,["options","series"])])):(d(),_("div",Oo,[a(v,{size:"64",color:"grey"},{default:e(()=>t[93]||(t[93]=[r("mdi-chart-bar")])),_:1}),t[94]||(t[94]=o("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No state data available",-1))]))]),_:1})]),_:1})]),_:1}),a(b,null,{default:e(()=>[a(i,{cols:"12",md:"6"},{default:e(()=>[a(U,null,{default:e(()=>[s(de).data.length>0?(d(),_("div",Bo,[a(fe,{type:"bar",height:"350",options:{chart:{type:"bar",fontFamily:"inherit",toolbar:{show:!1}},title:{text:"Average Speed by State",align:"left",style:{fontSize:"18px",fontWeight:600}},plotOptions:{bar:{horizontal:!1,borderRadius:8,columnWidth:"55%",distributed:!1}},dataLabels:{enabled:!1},xaxis:{categories:s(de).categories,labels:{style:{fontSize:"12px"}}},yaxis:{title:{text:"Average Speed (Mbps)"}},colors:["#4caf50"],grid:{show:!0,borderColor:"#f0f0f0"}},series:[{name:"Avg Speed (Mbps)",data:s(de).data}]},null,8,["options","series"])])):(d(),_("div",Eo,[a(v,{size:"64",color:"grey"},{default:e(()=>t[95]||(t[95]=[r("mdi-speedometer")])),_:1}),t[96]||(t[96]=o("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No speed data available",-1))]))]),_:1})]),_:1}),a(i,{cols:"12",md:"6"},{default:e(()=>[a(U,null,{default:e(()=>[s(we).series.length>0?(d(),_("div",No,[a(fe,{type:"donut",height:"350",options:{chart:{type:"donut",fontFamily:"inherit",height:350},title:{text:"Technology Distribution",align:"left",style:{fontSize:"18px",fontWeight:600}},labels:s(we).labels,responsive:[{breakpoint:480,options:{chart:{width:300},legend:{position:"bottom"}}}],plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0,label:"Total",fontSize:"20px",fontWeight:600}}}}},legend:{position:"bottom"},dataLabels:{enabled:!0,formatter:function(l){return l.toFixed(1)+"%"}}},series:s(we).series},null,8,["options","series"])])):(d(),_("div",Wo,[a(v,{size:"64",color:"grey"},{default:e(()=>t[97]||(t[97]=[r("mdi-chart-donut")])),_:1}),t[98]||(t[98]=o("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No technology data available",-1))]))]),_:1})]),_:1})]),_:1})])):g("",!0):(d(),y(b,{key:1},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[o("div",Ro,[a(v,{size:"80",color:"grey"},{default:e(()=>t[76]||(t[76]=[r("mdi-chart-box-outline")])),_:1}),t[77]||(t[77]=o("h3",{class:"text-h5 mt-4 mb-2"},"Select a domain",-1)),t[78]||(t[78]=o("p",{class:"text-medium-emphasis"}," Choose a domain from the dropdown above to view its detailed dashboard ",-1))])]),_:1})]),_:1})]),_:1}))])):g("",!0),G.value==="state-ranking"?(d(),_("div",Io,[a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,{title:"State Ranking Filters"},{default:e(()=>[a(b,null,{default:e(()=>[a(i,{cols:"12",md:"4"},{default:e(()=>[a(ve,{modelValue:M.value,"onUpdate:modelValue":t[9]||(t[9]=l=>M.value=l),items:zt.value,label:"Select State",variant:"outlined","prepend-inner-icon":"mdi-map-marker",hint:"Select a state to view provider rankings","persistent-hint":"",clearable:"",loading:s(ce),disabled:s(ce)},{item:e(({props:l,item:H})=>[a(_e,at(ot(l)),{prepend:e(()=>[a(v,{color:"primary"},{default:e(()=>t[99]||(t[99]=[r("mdi-map-marker")])),_:1})]),default:e(()=>[a(xe,null,{default:e(()=>[r(n(H.raw.title),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","items","loading","disabled"]),s(ae)?(d(),y(se,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-2"},{default:e(()=>[r(n(s(ae)),1)]),_:1})):g("",!0)]),_:1}),M.value?(d(),y(i,{key:0,cols:"12",md:"3"},{default:e(()=>[a(ve,{modelValue:s(f).period,"onUpdate:modelValue":t[10]||(t[10]=l=>s(f).period=l),items:[{value:"today",title:"Today"},{value:"yesterday",title:"Yesterday"},{value:"last_week",title:"Last Week"},{value:"last_month",title:"Last Month"},{value:"last_year",title:"Last Year"},{value:"all_time",title:"All Time"}],label:"Period",variant:"outlined","prepend-inner-icon":"mdi-calendar"},null,8,["modelValue"])]),_:1})):g("",!0),M.value?(d(),y(i,{key:1,cols:"12",md:"2"},{default:e(()=>[a(ve,{modelValue:s(f).sort_by,"onUpdate:modelValue":t[11]||(t[11]=l=>s(f).sort_by=l),items:[{value:"total_requests",title:"Total Requests"},{value:"success_rate",title:"Success Rate"},{value:"avg_speed",title:"Avg Speed"},{value:"total_reports",title:"Total Reports"}],label:"Sort By",variant:"outlined","prepend-inner-icon":"mdi-sort",density:"compact"},null,8,["modelValue"])]),_:1})):g("",!0),M.value?(d(),y(i,{key:2,cols:"12",md:"2"},{default:e(()=>[a($t,{modelValue:s(f).aggregate_by_provider,"onUpdate:modelValue":t[12]||(t[12]=l=>s(f).aggregate_by_provider=l),label:"Aggregate by Provider",color:"primary",density:"compact","hide-details":""},{prepend:e(()=>[a(tt,{text:"When enabled, combines all domains for a provider into one entry."},{activator:e(({props:l})=>[a(v,Me(l,{size:"small"}),{default:e(()=>t[100]||(t[100]=[r("mdi-information-outline")])),_:2},1040)]),_:1})]),_:1},8,["modelValue"])]),_:1})):g("",!0),M.value?(d(),y(i,{key:3,cols:"12",md:"2"},{default:e(()=>[a(me,{color:"primary",variant:"outlined",block:"",onClick:t[13]||(t[13]=l=>{s(N)(),Ze(),s(w)()})},{default:e(()=>t[101]||(t[101]=[r(" Clear Filters ")])),_:1})]),_:1})):g("",!0)]),_:1}),M.value?(d(),y(b,{key:0,class:"mt-2"},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(I,{variant:"outlined",class:"pa-3"},{default:e(()=>[o("div",Yo,[a(v,{size:"small",class:"mr-1"},{default:e(()=>t[102]||(t[102]=[r("mdi-calendar-range")])),_:1}),t[103]||(t[103]=r(" Custom Date Range (Optional) "))]),a(b,null,{default:e(()=>[a(i,{cols:"12",sm:"6",md:"4"},{default:e(()=>[a(Ne,{"model-value":s(f).date_from,label:"Start Date","prepend-inner-icon":"mdi-calendar-start","onUpdate:modelValue":t[14]||(t[14]=async l=>{s(E)({date_from:l}),await lt(),it()})},null,8,["model-value"])]),_:1}),a(i,{cols:"12",sm:"6",md:"4"},{default:e(()=>[a(Ne,{"model-value":s(f).date_to,label:"End Date","prepend-inner-icon":"mdi-calendar-end","onUpdate:modelValue":t[15]||(t[15]=async l=>{s(E)({date_to:l}),await lt(),it()})},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):g("",!0)]),_:1})]),_:1})]),_:1}),M.value?s(He)?(d(),y(b,{key:1},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[o("div",Ho,[a(pe,{indeterminate:"",color:"primary",size:"64"})])]),_:1})]),_:1})]),_:1})):s(Oe)?(d(),y(b,{key:2},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[a(se,{type:"error",variant:"tonal",class:"mb-0"},{default:e(()=>[r(n(s(Oe)),1)]),_:1})]),_:1})]),_:1})]),_:1})):M.value&&s(Te).length>0?(d(),y(b,{key:3},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,{title:`Provider Rankings - ${Qe(M.value)}`},{default:e(()=>[a(se,{type:"info",variant:"tonal",class:"mb-4",density:"compact"},{default:e(()=>[a(v,{start:""},{default:e(()=>t[107]||(t[107]=[r("mdi-information")])),_:1}),r(" Showing "+n(s(Ke))+" "+n(s(u)?"provider":"domain-provider")+" ranking(s) for "+n(Qe(M.value))+" ",1),s(u)?(d(),_("span",Ko,[a(j,{size:"x-small",color:"primary",variant:"tonal"},{default:e(()=>t[108]||(t[108]=[r("Aggregated by Provider")])),_:1})])):g("",!0)]),_:1}),a(et,null,{default:e(()=>[o("thead",null,[o("tr",null,[t[110]||(t[110]=o("th",{class:"text-left"},"Rank",-1)),s(u)?g("",!0):(d(),_("th",Xo,"Domain")),t[111]||(t[111]=o("th",{class:"text-left"},"Provider",-1)),t[112]||(t[112]=o("th",{class:"text-right"},"Total Requests",-1)),s(u)?g("",!0):(d(),_("th",Jo,"% of Domain")),s(u)?g("",!0):(d(),_("th",Qo,"Provider Total")),s(u)?g("",!0):(d(),_("th",Zo,t[109]||(t[109]=[o("div",null,"% of Provider",-1),o("div",{class:"text-caption text-medium-emphasis"},"(row/provider)",-1)]))),s(u)?(d(),_("th",el,"% of State")):g("",!0),s(u)?(d(),_("th",tl,"Domains")):g("",!0),t[113]||(t[113]=o("th",{class:"text-right"},"Success Rate",-1)),t[114]||(t[114]=o("th",{class:"text-right"},"Avg Speed",-1)),t[115]||(t[115]=o("th",{class:"text-center"},"Reports",-1)),t[116]||(t[116]=o("th",{class:"text-center"},"Period",-1)),t[117]||(t[117]=o("th",{class:"text-center"},"Actions",-1))])]),o("tbody",null,[(d(!0),_(he,null,ze(s(Te),(l,H)=>(d(),_("tr",{key:s(u)?`provider-${l.provider_id}`:`domain-${"domain_id"in l?l.domain_id:H}-provider-${l.provider_id}`},[o("td",null,[a(j,{color:l.rank<=3?"primary":"default",variant:"flat",size:"small"},{default:e(()=>[l.rank===1?(d(),y(v,{key:0,size:"small",class:"mr-1"},{default:e(()=>t[118]||(t[118]=[r("mdi-trophy")])),_:1})):l.rank===2?(d(),y(v,{key:1,size:"small",class:"mr-1"},{default:e(()=>t[119]||(t[119]=[r("mdi-medal")])),_:1})):l.rank===3?(d(),y(v,{key:2,size:"small",class:"mr-1"},{default:e(()=>t[120]||(t[120]=[r("mdi-medal-outline")])),_:1})):g("",!0),r(" "+n(l.rank),1)]),_:2},1032,["color"])]),!s(u)&&"domain_name"in l?(d(),_("td",al,[o("div",ol,n(l.domain_name),1),o("div",ll,n(l.domain_slug),1)])):g("",!0),o("td",null,[o("div",sl,n(l.provider_name),1),"technology"in l&&l.technology?(d(),y(j,{key:0,size:"x-small",variant:"outlined",class:"mt-1"},{default:e(()=>[r(n(l.technology),1)]),_:2},1024)):g("",!0)]),o("td",rl,n(l.formattedRequests),1),!s(u)&&"formattedPercentage"in l?(d(),_("td",nl,[a(j,{color:"primary",variant:"tonal",size:"small"},{default:e(()=>[r(n(l.formattedPercentage),1)]),_:2},1024)])):g("",!0),!s(u)&&"formattedProviderTotalRequests"in l?(d(),_("td",il,[o("div",dl,n(l.formattedProviderTotalRequests),1),t[121]||(t[121]=o("div",{class:"text-caption text-medium-emphasis"},"All domains",-1))])):g("",!0),!s(u)&&"formattedPercentageOfProvider"in l?(d(),_("td",ul,[a(tt,{text:"Percentage that this domain+provider row represents of the provider's total in this state"},{activator:e(({props:Le})=>[a(j,Me({ref_for:!0},Le,{color:"info",variant:"tonal",size:"small"}),{default:e(()=>[r(n(l.formattedPercentageOfProvider),1)]),_:2},1040)]),_:2},1024),t[122]||(t[122]=o("div",{class:"text-caption text-medium-emphasis mt-1"},"of provider",-1))])):g("",!0),s(u)&&"formattedPercentage"in l?(d(),_("td",ml,[a(j,{color:"primary",variant:"tonal",size:"small"},{default:e(()=>[r(n(l.formattedPercentage),1)]),_:2},1024)])):g("",!0),s(u)&&"formattedDomains"in l?(d(),_("td",cl,[a(tt,{text:l.formattedDomains||""},{activator:e(({props:Le})=>[a(j,Me({ref_for:!0},Le,{color:"info",variant:"tonal",size:"small"}),{default:e(()=>[r(n("domainsCount"in l?l.domainsCount:0)+" domain(s) ",1)]),_:2},1040)]),_:2},1032,["text"])])):g("",!0),o("td",pl,[a(j,{color:l.avg_success_rate>=90?"success":l.avg_success_rate>=70?"warning":"error",variant:"tonal",size:"small"},{default:e(()=>[r(n(l.formattedSuccessRate),1)]),_:2},1032,["color"])]),o("td",vl,n(l.formattedSpeed),1),o("td",fl,[a(j,{size:"small",variant:"outlined"},{default:e(()=>[r(n(l.total_reports),1)]),_:2},1024)]),o("td",_l,[o("div",gl,n(l.period_start)+" to "+n(l.period_end),1),o("div",yl,n(l.days_covered)+" days",1)]),o("td",bl,[!s(u)&&"domain_id"in l?(d(),y(me,{key:0,icon:"",size:"small",variant:"text",color:"primary",onClick:Le=>xt(l.domain_id,M.value),title:"View Domain State Dashboard"},{default:e(()=>[a(v,null,{default:e(()=>t[123]||(t[123]=[r("mdi-eye")])),_:1})]),_:2},1032,["onClick"])):(d(),_("span",xl,"-"))])]))),128))])]),_:1})]),_:1},8,["title"])]),_:1})]),_:1})):M.value&&s(Te).length===0?(d(),y(b,{key:4},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[o("div",hl,[a(v,{size:"64",color:"grey"},{default:e(()=>t[124]||(t[124]=[r("mdi-database-off")])),_:1}),t[125]||(t[125]=o("h3",{class:"text-h6 mt-4 mb-2"},"No Data Available",-1)),o("p",kl," No provider rankings found for "+n(Qe(M.value))+" with the selected filters. ",1)])]),_:1})]),_:1})]),_:1})):g("",!0):(d(),y(b,{key:0},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[o("div",Go,[a(v,{size:"80",color:"grey"},{default:e(()=>t[104]||(t[104]=[r("mdi-map-marker-outline")])),_:1}),t[105]||(t[105]=o("h3",{class:"text-h5 mt-4 mb-2"},"Select a State",-1)),t[106]||(t[106]=o("p",{class:"text-medium-emphasis"}," Choose a state from the dropdown above to view provider rankings for that state ",-1))])]),_:1})]),_:1})]),_:1}))])):g("",!0),G.value==="comparison"?(d(),_("div",Sl,[a(b,{class:"mb-6"},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(mt,{title:"Select Domains to Compare"},{default:e(()=>[a(At,{onSubmit:Bt(Dt,["prevent"])},{default:e(()=>[a(b,null,{default:e(()=>[a(i,{cols:"12",md:"6"},{default:e(()=>[a(ve,{modelValue:ue.value,"onUpdate:modelValue":t[16]||(t[16]=l=>ue.value=l),items:st.value,label:"Select Domains (minimum 2)",variant:"outlined",multiple:"",chips:"","closable-chips":"",hint:"The first domain will be used as the baseline","persistent-hint":""},null,8,["modelValue","items"])]),_:1}),a(i,{cols:"12",md:"3"},{default:e(()=>[a(dt,{modelValue:Re.value,"onUpdate:modelValue":t[17]||(t[17]=l=>Re.value=l),label:"From Date (Optional)",type:"date",variant:"outlined",clearable:""},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",md:"3"},{default:e(()=>[a(dt,{modelValue:ne.value,"onUpdate:modelValue":t[18]||(t[18]=l=>ne.value=l),label:"To Date (Optional)",type:"date",variant:"outlined",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(b,null,{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[o("div",wl,[a(me,{type:"submit",color:"primary","prepend-icon":"mdi-compare",disabled:ue.value.length<2,loading:s(z)},{default:e(()=>t[126]||(t[126]=[r(" Compare Domains ")])),_:1},8,["disabled","loading"]),a(me,{variant:"outlined",onClick:Rt,"prepend-icon":"mdi-refresh"},{default:e(()=>t[127]||(t[127]=[r(" Clear ")])),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(z)?(d(),y(b,{key:0},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[o("div",Dl,[a(pe,{indeterminate:"",color:"primary",size:"64"})])]),_:1})]),_:1})]),_:1})):s($)?(d(),y(b,{key:1},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[a(se,{type:"error",variant:"tonal",class:"mb-0"},{default:e(()=>[r(n(s($)),1)]),_:1})]),_:1})]),_:1})]),_:1})):s(x)&&s(x).domains?(d(),_("div",Rl,[a(b,null,{default:e(()=>[(d(!0),_(he,null,ze(s(x).domains,(l,H)=>(d(),y(i,{key:l.domain.id,cols:"12",md:s(x).domains.length===2?6:s(x).domains.length===3?4:3},{default:e(()=>[a(I,{elevation:"4",class:Et([{"border-primary":H===0},"h-100"])},{default:e(()=>[a(ut,{class:"d-flex align-center justify-space-between"},{default:e(()=>[o("div",null,[r(n(l.domain.name)+" ",1),H===0?(d(),y(j,{key:0,color:"primary",size:"x-small",class:"ml-2"},{default:e(()=>t[128]||(t[128]=[r(" Baseline ")])),_:1})):g("",!0)])]),_:2},1024),a(Q,null,{default:e(()=>[a(Lt,{density:"compact"},{default:e(()=>[a(_e,null,{prepend:e(()=>[a(v,{color:"primary"},{default:e(()=>t[129]||(t[129]=[r("mdi-chart-line")])),_:1})]),append:e(()=>[o("div",Pl,[o("span",ql,n(Ee(l.metrics.total_requests)),1),l.comparison?(d(),y(j,{key:0,color:s(re)(l.comparison.requests_diff),size:"x-small",variant:"tonal"},{default:e(()=>[a(v,{size:"x-small"},{default:e(()=>[r(n(s(X)(l.comparison.requests_diff)),1)]),_:2},1024),r(" "+n(l.comparison.requests_diff_label),1)]),_:2},1032,["color"])):g("",!0)])]),default:e(()=>[a(xe,null,{default:e(()=>t[130]||(t[130]=[r("Total Requests")])),_:1})]),_:2},1024),a(be,{class:"my-2"}),a(_e,null,{prepend:e(()=>[a(v,{color:"success"},{default:e(()=>t[131]||(t[131]=[r("mdi-check-circle")])),_:1})]),append:e(()=>[o("div",zl,[o("span",Fl,n(l.metrics.success_rate.toFixed(1))+"%",1),l.comparison?(d(),y(j,{key:0,color:s(re)(l.comparison.success_diff),size:"x-small",variant:"tonal"},{default:e(()=>[a(v,{size:"x-small"},{default:e(()=>[r(n(s(X)(l.comparison.success_diff)),1)]),_:2},1024),r(" "+n(l.comparison.success_diff_label),1)]),_:2},1032,["color"])):g("",!0)])]),default:e(()=>[a(xe,null,{default:e(()=>t[132]||(t[132]=[r("Success Rate")])),_:1})]),_:2},1024),a(be,{class:"my-2"}),a(_e,null,{prepend:e(()=>[a(v,{color:"info"},{default:e(()=>t[133]||(t[133]=[r("mdi-speedometer")])),_:1})]),append:e(()=>[o("div",Cl,[o("span",Vl,n(l.metrics.avg_speed.toFixed(1))+" Mbps",1),l.comparison?(d(),y(j,{key:0,color:s(re)(l.comparison.speed_diff),size:"x-small",variant:"tonal"},{default:e(()=>[a(v,{size:"x-small"},{default:e(()=>[r(n(s(X)(l.comparison.speed_diff)),1)]),_:2},1024),r(" "+n(l.comparison.speed_diff_label),1)]),_:2},1032,["color"])):g("",!0)])]),default:e(()=>[a(xe,null,{default:e(()=>t[134]||(t[134]=[r("Average Speed")])),_:1})]),_:2},1024),l.metrics.unique_providers?(d(),y(be,{key:0,class:"my-2"})):g("",!0),l.metrics.unique_providers?(d(),y(_e,{key:1},{prepend:e(()=>[a(v,{color:"warning"},{default:e(()=>t[135]||(t[135]=[r("mdi-domain")])),_:1})]),append:e(()=>[o("span",Tl,n(l.metrics.unique_providers),1)]),default:e(()=>[a(xe,null,{default:e(()=>t[136]||(t[136]=[r("Unique Providers")])),_:1})]),_:2},1024)):g("",!0),l.metrics.unique_states?(d(),y(be,{key:2,class:"my-2"})):g("",!0),l.metrics.unique_states?(d(),y(_e,{key:3},{prepend:e(()=>[a(v,{color:"secondary"},{default:e(()=>t[137]||(t[137]=[r("mdi-map-marker")])),_:1})]),append:e(()=>[o("span",$l,n(l.metrics.unique_states),1)]),default:e(()=>[a(xe,null,{default:e(()=>t[138]||(t[138]=[r("Unique States")])),_:1})]),_:2},1024)):g("",!0)]),_:2},1024)]),_:2},1024),a(Ut,null,{default:e(()=>[a(me,{variant:"text",color:"primary",onClick:Le=>$e(l.domain.id),"prepend-icon":"mdi-chart-box",block:""},{default:e(()=>t[139]||(t[139]=[r(" View Dashboard ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1032,["md"]))),128))]),_:1}),s(x).provider_data?(d(),y(b,{key:0},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(I,{elevation:"4"},{default:e(()=>[a(ut,{class:"d-flex align-center"},{default:e(()=>[a(v,{start:"",color:"primary"},{default:e(()=>t[140]||(t[140]=[r("mdi-account-network")])),_:1}),t[141]||(t[141]=r(" Provider Overview "))]),_:1}),a(Q,null,{default:e(()=>[a(b,{class:"mb-4"},{default:e(()=>[a(i,{cols:"12",md:"6"},{default:e(()=>[a(I,{variant:"tonal",color:"primary"},{default:e(()=>[a(Q,{class:"text-center"},{default:e(()=>[o("div",Al,n(s(x).provider_data.unique_providers_count),1),t[142]||(t[142]=o("div",{class:"text-caption"},"Total Unique Providers",-1))]),_:1})]),_:1})]),_:1}),a(i,{cols:"12",md:"6"},{default:e(()=>[a(I,{variant:"tonal",color:"primary"},{default:e(()=>[a(Q,{class:"text-center"},{default:e(()=>[o("div",Ll,n(s(x).provider_data.common_providers.length),1),t[143]||(t[143]=o("div",{class:"text-caption"},"Common Providers (in all domains)",-1))]),_:1})]),_:1})]),_:1})]),_:1}),s(x).provider_data.common_providers.length>0?(d(),_("div",Ul,[o("h3",Ml,[a(v,{start:"",size:"small"},{default:e(()=>t[144]||(t[144]=[r("mdi-chart-bar")])),_:1}),t[145]||(t[145]=r(" All Providers in Selected Domains "))]),a(se,{color:"primary",variant:"tonal",density:"compact",class:"mb-3"},{default:e(()=>[r(" Aggregated data for all providers across "+n(s(x).total_compared)+" selected domains ",1)]),_:1}),a(et,{density:"compact"},{default:e(()=>[t[146]||(t[146]=o("thead",null,[o("tr",null,[o("th",{class:"text-left"},"Rank"),o("th",{class:"text-left"},"Provider"),o("th",{class:"text-left"},"Technology"),o("th",{class:"text-right"},"Total Requests"),o("th",{class:"text-right"},"Avg Speed"),o("th",{class:"text-center"},"Appearances")])],-1)),o("tbody",null,[(d(!0),_(he,null,ze(s(x).provider_data.common_providers,(l,H)=>(d(),_("tr",{key:l.provider_id},[o("td",jl,"#"+n(H+1),1),o("td",Ol,n(l.provider_name),1),o("td",null,[a(j,{size:"small",variant:"tonal",color:Tt(l.technology)},{default:e(()=>[r(n(l.technology),1)]),_:2},1032,["color"])]),o("td",Bl,n(l.total_requests.toLocaleString()),1),o("td",El,n(l.avg_speed.toFixed(0))+" ms",1),o("td",Nl,[a(j,{size:"small",variant:"tonal",color:l.appearances>=s(x).total_compared*20?"success":"info"},{default:e(()=>[r(n(l.appearances)+" reports ",1)]),_:2},1032,["color"])])]))),128))])]),_:1})])):g("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):g("",!0)])):!s(z)&&!s($)?(d(),y(b,{key:3},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(U,null,{default:e(()=>[o("div",Wl,[a(v,{size:"80",color:"grey"},{default:e(()=>t[147]||(t[147]=[r("mdi-compare")])),_:1}),t[148]||(t[148]=o("h3",{class:"text-h5 mt-4 mb-2"},"Select domains to compare",-1)),t[149]||(t[149]=o("p",{class:"text-medium-emphasis"}," Choose at least 2 domains from the selector above to see a detailed comparison ",-1))])]),_:1})]),_:1})]),_:1})):g("",!0)])):g("",!0)])}}}),ts=_t(Il,[["__scopeId","data-v-e1e74728"]]);export{ts as default};
